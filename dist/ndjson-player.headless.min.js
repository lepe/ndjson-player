/**
 * Author : A.Lepe (dev@alepe.com)
 * License: MIT
 * Version: 0.1.8
 * Updated: 2024-12-10
 * Content: ndjson-player.headless.min.js (Bundle 'No M2D2 included' Minimized)
 */

class NdJsonPlayer{loop;autoplay;playing=!1;loaded=!1;started=!1;onStart;onLoad;onRender;onPlay;onStop;onFinish;onError;wrapper=null;canvas=null;ctx=null;timer=null;src="";frame=0;multiplier=1;_frames=[];_renderItems=[];_aspectRatio=0;_general={numFrames:0,totTime:0,frameBase:"",thumbBase:"",startTimeStamp:0,keepAspectRatio:!0,framesPerSec:24,fontFamily:"",fontSize:20,fontColor:"yellow",totalTime:"00:01:00",scale:1e3,zIndex:0};constructor(e,t,a,s){const n=this;n.src=e,window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame);const i=()=>{};s=Object.assign({},s),n.onStart=s.onstart||i,n.onLoad=s.onload||i,n.onRender=s.onrender||i,n.onPlay=s.onplay||i,n.onStop=s.onstop||i,n.onFinish=s.onfinish||i,n.onError=s.onerror||(e=>{console.log(e)});let o=null;if(t instanceof Node)o=t;else{if("object"==typeof t)a=t,t="canvas";else if("string"!=typeof t)throw"Incorrect parameter passed to constructor of NdJsonPlayer";o=document.querySelector(t||"canvas")}if(!o)throw"Canvas element was not found in DOM: "+t;{let e=null;if("CANVAS"===o.tagName){e=o;const t=document.createElement("div");o.parentNode.insertBefore(t,o),t.prepend(o),o=t}else if(o.hasChildNodes()){if(e=o.querySelector("canvas"),!e)throw"No canvas found in element"}else e=document.createElement("CANVAS"),o.prepend(e);n.canvas="OffscreenCanvas"in window?e.transferControlToOffscreen():e}n.wrapper=o,n.canvas.width=n.wrapper.parent().clientWidth,n.canvas.height=n.wrapper.parent().clientHeight,n._aspectRatio=n.canvas.height/n.canvas.width,o.classList.add("ndjp"),n.ctx=n.canvas.getContext("2d"),n.fps=a.fps||24,n.loop=a.loop||!1,n.autoplay=a.autoplay||!1,n.showfirst=!1!==a.showfirst,n.path=a.path||"","auto"===a.width&&(a.width=0),"auto"===a.height&&(a.height=0),n.timer=new TimerSrc(1e3/n.fps),n.src&&n.autoplay?n.load():console.log("Initializing without source...")}_reset(){this._frames=[],this.loaded=!1}load(e,t){const a=this;void 0!==t&&(this.src=t,this._reset());let s=!0;!async function(e,t){const a=(await fetch(e)).body.getReader(),s=new TextDecoder;let n="",i=!1;for(;!i;){const{value:e,done:o}=await a.read();let r;for(i=o,n+=s.decode(e,{stream:!0});-1!==(r=n.indexOf("\n"));){t(n.slice(0,r)),n=n.slice(r+1)}}}(this.src,(e=>{s||a.autoplay?(a.processFrame(JSON.parse(e),!0),s=!1):a.append(JSON.parse(e))}))}reload(e,t){const a=this,s=[];switch(a._reset(),!0){case"string"==typeof e:s=e.split(/[\r\n](?=.)/.map(JSON.parse));break;case Array.isArray(e):s=e;break;case"Object"===e.constructor.name:s.push(e);break;default:return void console.log("Unable to reload frames. ")}s.forEach((e=>{a.processFrame(e),t&&t(e)}))}append(e){this._frames.push(e)}prepend(e){this._frames.unshift(e),this.frame++}processFrame(e,t){const a=this,s=a.canvas,n=a.ctx;switch(e.i){case"g":void 0!==e.lp&&(a.loop=!0),void 0!==e.w&&(a.canvas.width=e.w,null==e.sc&&(a._general.scale=e.w),a._aspectRatio=a.canvas.height/a.canvas.width),void 0!==e.h&&(a.canvas.height=e.h,a._aspectRatio=a.canvas.height/a.canvas.width),void 0!==e.kar&&(a._general.keepAspectRatio=e.kar),void 0!==e.sc&&(a._general.scale=e.sc),void 0!==e.fps&&(a._general.framesPerSec=e.fps),void 0!==e.fb&&(a._general.frameBase=e.fb),void 0!==e.thb&&(a._general.thumbBase=e.thb),void 0!==e.tf&&(a._general.numFrames=e.tf),void 0!==e.tt&&(a._general.totTime=e.tt),void 0!==e.ts&&(a._general.startTimeStamp||(a._general.startTimeStamp=e.ts)),void 0!==e.fs&&(a._general.fontSize=e.fs),void 0!==e.fc&&(a._general.fontColor=e.fc),void 0!==e.ff&&(a._general.fontFamily=e.ff);break;case"c":void 0!==e.f||console.log("Circle object didn't specify what?: "+e);break;case"q":case"a":break;case"t":if(void 0!==e.f){const i=s.width/(e.sc||a._general.scale);n.font=(e.fs||a._general.fontSize)*i+"px "+(e.ff||a._general.fontFamily),n.fillStyle=e.fc||a._general.fontColor,n.fillText(e.f,e.x*i||0,e.y*i||0),t&&-1==a._renderItems.indexOf(e.f)&&a._renderItems.push(e)}else console.log("Text object didn't specify content: "+e);break;case"p":if(void 0!==e.f){const i=!!e.tl,o=!!e.fh,r=!!e.fv,l=s.width,c=new Image;c.src=e.f,c.onload=()=>{e.a?function(t,s){const c=l/(e.sc||a._general.scale),h=(1*e.w||t.width)*c,u=(1*e.h||t.height)*c,p=Math.round(h/2),d=Math.round(u/2),f=document.createElement("canvas"),m=f.getContext("2d"),g=1.45*Math.max(h,u),y=Math.round((g-h)/2),w=Math.round((g-u)/2);f.width=g,f.height=g;const v=Math.round(g/2),_=s*Math.PI/180;m.translate(v,v),m.rotate(_),o&&m.scale(-1,1),r&&m.scale(1,-1),m.drawImage(t,-p,-d,h,u);const b=e.x*c-(i?y:v),x=e.y*c-(i?w:v);n.drawImage(f,b,x,g,g)}(c,1*e.a):n.drawImage(c,1*e.x,1*e.y,1*e.w,1*e.h),t&&-1==a._renderItems.indexOf(e.f)&&a._renderItems.push(e)}}else console.log("Picture object didn't specify source: "+e);break;case"f":void 0!==e.f?(a._frames.push(e),a.loaded||(a.loaded=!0,a.autoplay?a.play():a.showfirst&&a.step())):console.log("Picture object didn't specify source: "+e);break;case"v":if(void 0!==e.f){const t=document.createElement("video"),i=document.createElement("source");void 0!==e.w&&(t.width=1*e.w),void 0!==e.h&&(t.height=1*e.h),t.muted=!0,t.appendChild(i),i.src=e.f,t.addEventListener("play",(function(){const e=this;let t=0;const i=1e3/a._general.framesPerSec;!function o(){if(!e.paused&&!e.ended){t+=i;const r=s.width/e.videoWidth,l=s.height/e.videoHeight,c=Math.min(r,l),h=(s.width-e.videoWidth*c)/2,u=(s.height-e.videoHeight*c)/2;a._general.keepAspectRatio&&(s.height=s.width*a._aspectRatio),n.clearRect(0,0,s.width,s.height),n.drawImage(e,0,0,e.videoWidth,e.videoHeight,h,u,e.videoWidth*c,e.videoHeight*c),n.font="15px Arial",n.fillStyle="white",n.fillText(Math.round(t),50,50),a._renderItems.length&&a._renderItems.forEach((e=>{if(e.t){const s=a._timeToMilliSeconds(e.t),n=e.tt?s+a._timeToMilliSeconds(e.tt):a._general.totTime||9999999999999;t>=s&&t<=n&&a.processFrame(e,!1)}else a.processFrame(e,!1)})),setTimeout(o,i)}}()}),0),t.play(),a.loop&&(t.onended=()=>t.play())}else console.log("Video object didn't specify source: "+e);break;case"d":a.onRender(e)}a.started||(a.onStart(a),a.started=!0)}_render(e){if(null==this.timer)throw"TimerSrc was not initialized";if(0===this._frames.length)throw"Video is empty or no frames were found";this.frame>=this._frames.length-1&&(this.frame=this.loop?0:this._frames.length-1),this.frame<0&&(this.frame=this.loop?this._frames.length-1:0),this._displayImg(e)}_displayImg(e){const t=this;let a=t._frames[t.frame];if(a){const s=function(){t.onRender(a),t.timer.call((function(){t._increment(),e||t.timer.nocall(),t._displayImg()}))};if(void 0!==a.f){const e=t._general.frameBase+a.f;t._image(e,s)}else s()}}_increment(){this.frame+=1*this.multiplier,this.frame<0&&(this.loop?this.frame=this._frames.length-1:(this.frame=0,this.pause(),this.onFinish(this))),this.frame>this.totalFrames()-1&&(this.loop?this.frame=0:(this.frame=this._frames.length-1,this.pause(),this.onFinish(this)))}_draw=function(e,t){const a=this;return 0===e.width&&0===e.height?(e.onerror(),void 0!==t&&t(!1)):(a.ctx.clearRect(0,0,a.canvas.width,a.canvas.height),a.ctx.drawImage(e,0,0,e.width,e.height,0,0,a.canvas.width,a.canvas.height),void 0!==t&&t(!0)),this};_image=function(e,t){const a=this,s=new Image;return s.crossOrigin="",s.onload=function(){a._draw(s,(function(e){e&&void 0!==t&&t(s)}))},s.onerror=function(){const e=a.onError();e&&(s.src=e)},s.src="/"===e[0]||e.match(/^https?:/)||e.match(/^data:image/)?e:a.path+e,this};_timeToMilliSeconds(e){let t=0;return-1!==e.indexOf(".")&&(t=1*e.split(".")[1],e=e.split(".")[0]),1e3*(-1!==e.indexOf(":")?e.split(":").reduce(((e,t,a)=>e+t*Math.pow(60,2-a)),0):0)+t}frameBase(){return this._general.frameBase}thumbBase(){return this._general.thumbBase}currentFrame(){return this.frame}totalFrames(){return this._numFrames||this._frames.length}totalTime(){return this._totTime||this.currentFrame()/this.fps}frameAt(e){const t=this;let a=e<this.totalFrames()?t._frames[e]:null;return a&&(a.fb=t._general.frameBase),a}indexAt(e){return~~(e*this.totalFrames()/100)}playerNode(){return this.wrapper}play(e){e<0?e=0:e>this._frames.length?e=this._frames.length-1:void 0!==e&&(this.frame=1*e),this.playing=!0,this.timer.play(),this._render(!1),this.onPlay(this)}playForward(e){this.play(e)}pause(){this.playing=!1,this.timer.pause(),this.onStop(this)}stop(){this.playing=!1,this.frame=0,this.timer.pause(),this._displayImg(!0),this.onStop(this)}step(){this.onPlay(this),this.playing=!1,this.timer.step(),this._render(!0),this.onStop(this)}jumpTo(e){e<0?e=0:e>this._frames.length?e=this._frames.length-1:void 0!==e&&(this.frame=1*e),this._render(!0)}stepForwards(){this.step()}reset(){return void 0!==this.ctx.reset&&(this.ctx.reset(),this.ctx.clear(),this.stop(),this.canvas.width=this.canvas.width),this}}class NDJPlayer{player;options;ui;constructor(e,t,a){const s=this;function n(e){return e.indexOf(".")>0||-1!==e.indexOf("/")}function i(e){return"."===e[0]||"#"===e[0]||null!==document.querySelector(e)}switch(arguments.length){case 2:"Object"===arguments[1].constructor.name&&(a=arguments[1],n(arguments[0])?t=null:(arguments[0]instanceof HTMLElement||i(arguments[0]))&&(t=arguments[0],e=null));break;case 1:switch(!0){case"Object"===arguments[0].constructor.name:a=arguments[0],e=null,t=null;break;case n(arguments[0]):e=arguments[0],t=null,a={};break;case arguments[0]instanceof HTMLElement||i(arguments[0]):t=arguments[0],e=null,a={};break;default:console.log("Unknown parameter was passed to NDJPlayer constructor."),e=null,t=null,a={}}break;case 0:a={}}s.options=Object.assign({controls:!1,resize:!0,onaction:(e,t,a)=>{},onplay:e=>{},onstop:e=>{}},a||{}),this._create(t),this.player=new NdJsonPlayer(e,t,s.options,{onstart:function(e){s._adjustSize(),void 0!==s.options.onstart&&s.options.onstart(e)},onload:function(e){void 0!==s.options.onload&&s.options.onload(e)},onrender:function(e){s._onUpdate(e),void 0!==s.options.onrender&&s.options.onrender(e)},onplay:function(e){s.ui.panel&&(s.ui.play.show=!1,s.ui.step.css.contains("disabled")||(s.ui.step.show=!1),s.ui.pause.show=!0),s.options.onplay(e)},onstop:function(e){s.ui.panel&&(s.ui.play.show=!0,s.ui.step.css.contains("disabled")||(s.ui.step.show=!0),s.ui.pause.show=!1),s.options.onstop(e)},onfinish:function(e){},onerror:function(e){console.log(e)}}),window.addEventListener("resize",(function(e){s._adjustSize()}),!0)}_onUpdate(e){const t=this;if(t.ui){if(t.ui.frames&&(t.ui.frames.text=t.player.currentFrame()+1+"/"+t.player.totalFrames()),t.ui.lapse){let a="";const s=t.player._startTimeStamp&&void 0!==e.ts,n=void 0!==e.t,i=t.player._totTime>0;e.d&&(a=e.d+" "),s?a+=t._formatMillis(e.ts-t.player._startTimeStamp):n&&(a+=e.t.indexOf(":")>0?e.t:t._fmtTime(e.t)),i&&(a+="/"+t.player.totalTime()),t.ui.lapse.text=a}t.ui.progress&&t.player.totalFrames()&&(t.ui.progress.value=Math.round((t.player.currentFrame()+1)/t.player.totalFrames()*100))}}_adjustSize(){if(this.options.resize){let e=this.player.wrapper,t=e.parent(),a=(this.options.height||this.player.canvas.height)/(this.options.width||this.player.canvas.width);this.player.canvas.height=t.clientHeight-(this.options.controls?e.querySelector(".panel").clientHeight:0),this.player.canvas.width=this.player.canvas.height/a}}_create(e){const t=this;if(m2d2){const a=m2d2.load();t.ui=a(e,t._getUI(e)),t.ui.panel&&["thumb","play","step","pause","stop","lapse","progress","frames","fullscreen"].forEach((e=>{t.ui[e]=t.ui.panel[e]}))}else console.log("M2D2 was not found. Either use the standard version (which includes M2D2) or add M2D2 in your dependencies.")}_getUI(e){const t=this;let a={html:e.innerHTML||""};if(t.options.controls&&(a=this._getBasicUI(),"full"===t.options.controls))a.panel.step.css.remove("disabled");this.options.controls;let s=e instanceof Node?e:document.querySelector(e);if(s){s.querySelector("canvas")||(a=Object.assign({canvas:""},a))}else console.log("Root element: "+e+" was not found in document"),a=Object.assign({canvas:""},a);return a}_getBasicUI(){const e=this;return document.addEventListener("fullscreenchange",(t=>{const a=e.player.wrapper;document.fullscreenElement?a.classList.add("fullscreen"):a.classList.remove("fullscreen")})),{caption:"",css:e.options.controls,panel:{tagName:"div",className:"panel",thumb:{tagName:"figure",className:"thumb",img:{src:""},caption:{tagName:"figCaption",className:"caption"}},rec:{tagName:"a",className:"rec",title:"Live",href:"#"},play:{tagName:"a",className:"play",title:"Play",href:"#",onclick:function(){return e.ui.onaction("play",e.player,e),e.player.play(),!1}},pause:{tagName:"a",className:"pause",title:"Pause",href:"#",onclick:function(){return e.ui.onaction("pause",e.player,e),e.player.pause(),!1}},step:{tagName:"a",css:["step","disabled"],title:"Step",href:"#",onclick:function(){return e.ui.onaction("step",e.player,e),e.player.step(),!1}},stop:{tagName:"a",className:"stop",title:"Stop",href:"#",onclick:function(){return e.ui.onaction("stop",e.player,e),e.player.stop(),!1}},lapse:{tagName:"label",className:"lapse",title:"Time elapsed / Time Total",text:"0:00"},live:{tagName:"label",className:"live",text:"Live Feed"},progress:{value:0,max:100,onmousemove:function(t){let a=~~(t.offsetX/this.offsetWidth*100),s=e.player.frameAt(e.player.indexAt(a));s?(e.ui.thumb.show=!0,e.ui.thumb.img.src=(e.player.thumbBase()||e.player.frameBase())+(s.th||s.f),e.ui.thumb.img.onload=function(){const t=e.ui.thumb.img.naturalWidth||e.ui.thumb.img.width;e.ui.thumb.style.width=t+"px"},void 0!==s.tc&&(e.ui.thumb.caption=s.tc),e.ui.thumb.style.left=this.offsetLeft+t.offsetX-e.ui.thumb.clientWidth/2+"px"):e.ui.thumb.show=!1},onmouseleave:function(){e.ui.thumb.show=!1},onclick:function(t){let a=~~(t.offsetX/this.offsetWidth*100),s=e.player.indexAt(a);e.player.jumpTo(s),e.ui.onaction("progress",e.player,e)}},frames:{tagName:"label",className:"frames",title:"Current Frame / Total Frames",text:"0"},fullscreen:{tagName:"a",className:"fullscreen",title:"Full Screen",href:"#",onclick:function(t){const a=e.player.wrapper;return a.classList.contains("fullscreen")?(e.ui.onaction("exit-fullscreen",e.player,e),document.exitFullscreen()):(e.ui.onaction("fullscreen",e.player,e),a.requestFullscreen()),!1}}},onaction:function(t,a,s){e.options.onaction(t,a,s)},onplay:function(t){e.options.onplay(t)},onstop:function(t){e.options.onstop(t,uiPlayer)}}}_fmtTime(e){let t=(e=e.toFixed(2)).split(".")[1]||"00";return(~~(e/60)+"").padStart(2,"0")+":"+(~~(e/60%1*60)+"").padStart(2,"0")+"."+t}_formatMillis(e){function t(e,t){return("00"+e).slice(-1*(t||2))}const a=Math.floor(e/1e3/60/60),s=Math.floor(60*(e/1e3/60/60-a)),n=Math.floor(60*(60*(e/1e3/60/60-a)-s)),i=parseInt(e%1e3/100);return t(a)+":"+t(s)+":"+t(n)+"."+t(i,3)}}function TimerSrc(e,t){let a,s,n,i,o={};o.interval=e,o.checker=50,o.status="init";let r=(new Date).getTime();return a=r-e,o.call=function(e){return t=e,o},o.nocall=function(){return t=null,o},o.exec=function(){return t&&t(),a=(new Date).getTime(),o},o.check=function(){return n&&n(),o},o.play=function(){return n=o.step,o.status="running",o},o.pause=function(){return n=null,o.status="paused",o},o.destroy=function(){for(var e in n=null,clearInterval(s),s=null,o)o[e]=null,delete o[e];o.status="destroyed"},o.step=function(){return r=(new Date).getTime(),i=Math.max(0,o.interval-(r-a)),0===i&&(i=o.interval,a=(new Date).getTime(),t&&t()),o},o.slow=function(){return o.interval=1e3,o},o.fast=function(){return o.interval=e,o},s=setInterval(o.check,o.checker),o}class VideoND extends HTMLElement{constructor(){super(),this._root=this;const e=this,t={autoplay:!1,controls:!1,loop:!1,live:!1,width:"auto",height:"auto",poster:"",preload:"auto",src:"",cc:"auto",caption:"",fullscreen:!1,fps:"",speed:!1,autosize:"auto",sizes:{}||[],thumbs:"auto"},a={};for(let e in t)a[e]=this.getAttribute(e)||this.hasAttribute(e)||t[e];a.onstart=function(t){e.onstart&&e.onstart(t)},a.onload=function(t){e.onload&&e.onload(t)},a.onrender=function(t){e.onrender&&e.onrender(t,s.wrapper,s,s.player.canvas,s.player.ctx)},this.style.display="block",this.className="ndjp";const s=new NDJPlayer(a.src,this,a)}setCaption(e){this._root.querySelector("caption").innerText=e}static get observedAttributes(){return["width","height","caption"]}attributeChangedCallback(e,t,a){"caption"===e&&this.setCaption(a)}}document.addEventListener("DOMContentLoaded",(function(){window.customElements.define("video-nd",VideoND)}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5kanNvbi1wbGF5ZXIuc3JjLmpzIiwibmRqc29uLXVpLnNyYy5qcyIsInRpbWVyLnNyYy5qcyIsInZpZGVvLW5kLnNyYy5qcyJdLCJuYW1lcyI6WyJOZEpzb25QbGF5ZXIiLCJsb29wIiwiYXV0b3BsYXkiLCJwbGF5aW5nIiwibG9hZGVkIiwic3RhcnRlZCIsIm9uU3RhcnQiLCJvbkxvYWQiLCJvblJlbmRlciIsIm9uUGxheSIsIm9uU3RvcCIsIm9uRmluaXNoIiwib25FcnJvciIsIndyYXBwZXIiLCJjYW52YXMiLCJjdHgiLCJ0aW1lciIsInNyYyIsImZyYW1lIiwibXVsdGlwbGllciIsIl9mcmFtZXMiLCJfcmVuZGVySXRlbXMiLCJfYXNwZWN0UmF0aW8iLCJfZ2VuZXJhbCIsIm51bUZyYW1lcyIsInRvdFRpbWUiLCJmcmFtZUJhc2UiLCJ0aHVtYkJhc2UiLCJzdGFydFRpbWVTdGFtcCIsImtlZXBBc3BlY3RSYXRpbyIsImZyYW1lc1BlclNlYyIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsImZvbnRDb2xvciIsInRvdGFsVGltZSIsInNjYWxlIiwiekluZGV4IiwiY29uc3RydWN0b3IiLCJlbGVtZW50Iiwib3B0aW9ucyIsImV2ZW50cyIsIl90aGlzIiwidGhpcyIsIndpbmRvdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1velJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm5vRXZlbnQiLCJPYmplY3QiLCJhc3NpZ24iLCJvbnN0YXJ0Iiwib25sb2FkIiwib25yZW5kZXIiLCJvbnBsYXkiLCJvbnN0b3AiLCJvbmZpbmlzaCIsIm9uZXJyb3IiLCJlIiwiY29uc29sZSIsImxvZyIsInBsYXllciIsIk5vZGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjYW52YXNFbCIsInRhZ05hbWUiLCJjcmVhdGVFbGVtZW50IiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsInByZXBlbmQiLCJoYXNDaGlsZE5vZGVzIiwidHJhbnNmZXJDb250cm9sVG9PZmZzY3JlZW4iLCJ3aWR0aCIsInBhcmVudCIsImNsaWVudFdpZHRoIiwiaGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiY2xhc3NMaXN0IiwiYWRkIiwiZ2V0Q29udGV4dCIsImZwcyIsInNob3dmaXJzdCIsInBhdGgiLCJUaW1lclNyYyIsImxvYWQiLCJfcmVzZXQiLCJjYWxsYmFjayIsIm5ld1NyYyIsInVuZGVmaW5lZCIsImhlYWRlciIsImFzeW5jIiwidXJsIiwicmVhZGVyIiwiZmV0Y2giLCJib2R5IiwiZ2V0UmVhZGVyIiwiZGVjb2RlciIsIlRleHREZWNvZGVyIiwiYnVmZmVyIiwiZG9uZSIsInZhbHVlIiwiaXNEb25lIiwicmVhZCIsImxpbmVFbmRJbmRleCIsImRlY29kZSIsInN0cmVhbSIsImluZGV4T2YiLCJzbGljZSIsInByb2Nlc3NTdHJlYW0iLCJwcm9jZXNzRnJhbWUiLCJKU09OIiwicGFyc2UiLCJhcHBlbmQiLCJyZWxvYWQiLCJmcmFtZXMiLCJmcyIsInNwbGl0IiwibWFwIiwiQXJyYXkiLCJpc0FycmF5IiwibmFtZSIsInB1c2giLCJmb3JFYWNoIiwiaXRlbSIsInVuc2hpZnQiLCJxdWV1ZSIsImkiLCJscCIsInciLCJzYyIsImgiLCJrYXIiLCJmYiIsInRoYiIsInRmIiwidHQiLCJ0cyIsImZjIiwiZmYiLCJmIiwiZm9udCIsImZpbGxTdHlsZSIsImZpbGxUZXh0IiwieCIsInkiLCJ0b3BMZWZ0IiwidGwiLCJmbGlwSG9yaXoiLCJmaCIsImZsaXBWZXJ0IiwiZnYiLCJjdyIsImltZyIsIkltYWdlIiwiYSIsImltYWdlIiwiYW5nbGUiLCJpbWdXaWR0aCIsImltZ0hlaWdodCIsImhhbGZXaWR0aCIsIk1hdGgiLCJyb3VuZCIsImhhbGZIZWlnaHQiLCJvZmZzY3JlZW5DYW52YXMiLCJvZmZzY3JlZW5DdHgiLCJtYXhTaXplIiwibWF4IiwibWFyZ2luWCIsIm1hcmdpblkiLCJpbWFnZUNlbnRlciIsImFuZ2xlSW5SYWRpYW5zIiwiUEkiLCJ0cmFuc2xhdGUiLCJyb3RhdGUiLCJkcmF3SW1hZ2UiLCJ0YXJnZXRYIiwidGFyZ2V0WSIsInJvdGF0ZUltYWdlIiwicGxheSIsInN0ZXAiLCJ2aWRlb0VsIiwidmlkZW9Tb3VyY2UiLCJtdXRlZCIsImFwcGVuZENoaWxkIiwiYWRkRXZlbnRMaXN0ZW5lciIsInZpZCIsIm1pbGxpcyIsIm1pbGxpc1BlckZyYW1lIiwicGF1c2VkIiwiZW5kZWQiLCJoUmF0aW8iLCJ2aWRlb1dpZHRoIiwidlJhdGlvIiwidmlkZW9IZWlnaHQiLCJyYXRpbyIsIm1pbiIsImNlbnRlclNoaWZ0X3giLCJjZW50ZXJTaGlmdF95IiwiY2xlYXJSZWN0IiwibGVuZ3RoIiwiaXRtIiwidCIsInN0YXJ0VGltZSIsIl90aW1lVG9NaWxsaVNlY29uZHMiLCJzdG9wVGltZSIsInNldFRpbWVvdXQiLCJvbmVuZGVkIiwiX3JlbmRlciIsIm9uY2UiLCJfZGlzcGxheUltZyIsIm5leHQiLCJjYWxsIiwiX2luY3JlbWVudCIsIm5vY2FsbCIsIl9pbWFnZSIsInBhdXNlIiwidG90YWxGcmFtZXMiLCJfZHJhdyIsImNyb3NzT3JpZ2luIiwiZHJhd24iLCJlcnIiLCJtYXRjaCIsInRpbWUiLCJyZWR1Y2UiLCJhY2MiLCJ2YWwiLCJpZHgiLCJwb3ciLCJjdXJyZW50RnJhbWUiLCJfbnVtRnJhbWVzIiwiX3RvdFRpbWUiLCJmcmFtZUF0IiwiaW5kZXgiLCJpbmRleEF0IiwicGVyY2VudGFnZSIsInBsYXllck5vZGUiLCJzdGFydEZyYW1lIiwicGxheUZvcndhcmQiLCJzdG9wIiwianVtcFRvIiwic3RlcEZvcndhcmRzIiwicmVzZXQiLCJjbGVhciIsIk5ESlBsYXllciIsInVpIiwiaXNNZWRpYSIsInN0ciIsImlzU2VsZWN0b3IiLCJhcmd1bWVudHMiLCJIVE1MRWxlbWVudCIsImNvbnRyb2xzIiwicmVzaXplIiwib25hY3Rpb24iLCJhY3Rpb24iLCJuZGpQbGF5ZXIiLCJ1aVBsYXllciIsIl9jcmVhdGUiLCJfYWRqdXN0U2l6ZSIsIl9vblVwZGF0ZSIsInBhbmVsIiwic2hvdyIsImNzcyIsImNvbnRhaW5zIiwiZXZlbnQiLCJ0ZXh0IiwibGFwc2UiLCJfc3RhcnRUaW1lU3RhbXAiLCJkIiwiX2Zvcm1hdE1pbGxpcyIsIl9mbXRUaW1lIiwicHJvZ3Jlc3MiLCJyYXRpb1ciLCJtMmQyIiwiJCIsIl9nZXRVSSIsIml0IiwiaHRtbCIsImlubmVySFRNTCIsIl9nZXRCYXNpY1VJIiwicmVtb3ZlIiwicm9vdCIsImZ1bGxzY3JlZW5FbGVtZW50IiwiY2FwdGlvbiIsImNsYXNzTmFtZSIsInRodW1iIiwicmVjIiwidGl0bGUiLCJocmVmIiwib25jbGljayIsImxpdmUiLCJvbm1vdXNlbW92ZSIsInBvc2l0aW9uIiwib2Zmc2V0V2lkdGgiLCJ0aCIsIm5hdHVyYWxXaWR0aCIsInN0eWxlIiwidGMiLCJsZWZ0Iiwib2Zmc2V0TGVmdCIsIm9mZnNldFgiLCJvbm1vdXNlbGVhdmUiLCJmdWxsc2NyZWVuIiwiZXYiLCJleGl0RnVsbHNjcmVlbiIsInJlcXVlc3RGdWxsc2NyZWVuIiwiZGVjaW1hbCIsInRvRml4ZWQiLCJwYWRTdGFydCIsInBhZCIsIm51bSIsImRpZ2l0cyIsImZsb29yIiwibSIsInMiLCJtcyIsInBhcnNlSW50Iiwib3JpZ2luYWxfbXMiLCJvYmoiLCJpbnRlcnZhbCIsImNoZWNrZXIiLCJzdGF0dXMiLCJub3dUaW1lIiwiRGF0ZSIsImdldFRpbWUiLCJmdW5jIiwiZXhlYyIsImNoZWNrIiwiZGVzdHJveSIsIm8iLCJjbGVhckludGVydmFsIiwic2xvdyIsImZhc3QiLCJzZXRJbnRlcnZhbCIsIlZpZGVvTkQiLCJzdXBlciIsIl9yb290IiwiZGVmYXVsdE9wdGlvbnMiLCJwb3N0ZXIiLCJwcmVsb2FkIiwiY2MiLCJzcGVlZCIsImF1dG9zaXplIiwic2l6ZXMiLCJ0aHVtYnMiLCJnZXRBdHRyaWJ1dGUiLCJoYXNBdHRyaWJ1dGUiLCJkaXNwbGF5Iiwic2V0Q2FwdGlvbiIsImlubmVyVGV4dCIsIm9ic2VydmVkQXR0cmlidXRlcyIsImF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayIsIm9sZFZhbHVlIiwibmV3VmFsdWUiLCJjdXN0b21FbGVtZW50cyIsImRlZmluZSJdLCJtYXBwaW5ncyI6IkFBU0EsTUFBQUEsYUFFQUMsS0FDQUMsU0FHQUMsU0FBQSxFQUNBQyxRQUFBLEVBQ0FDLFNBQUEsRUFHQUMsUUFDQUMsT0FDQUMsU0FDQUMsT0FDQUMsT0FDQUMsU0FDQUMsUUFHQUMsUUFBQSxLQUNBQyxPQUFBLEtBQ0FDLElBQUEsS0FDQUMsTUFBQSxLQUNBQyxJQUFBLEdBQ0FDLE1BQUEsRUFDQUMsV0FBQSxFQUdBQyxRQUFBLEdBQ0FDLGFBQUEsR0FDQUMsYUFBQSxFQUdBQyxTQUFBLENBQ0FDLFVBQUEsRUFDQUMsUUFBQSxFQUNBQyxVQUFBLEdBQ0FDLFVBQUEsR0FDQUMsZUFBQSxFQUNBQyxpQkFBQSxFQUNBQyxhQUFBLEdBQ0FDLFdBQUEsR0FDQUMsU0FBQSxHQUNBQyxVQUFBLFNBQ0FDLFVBQUEsV0FDQUMsTUFBQSxJQUNBQyxPQUFBLEdBY0FDLFlBQUFwQixFQUFBcUIsRUFBQUMsRUFBQUMsR0FDQSxNQUFBQyxFQUFBQyxLQUNBRCxFQUFBeEIsSUFBQUEsRUFDQTBCLE9BQUFDLHdCQUNBRCxPQUFBQyxzQkFBQUQsT0FBQUUsNkJBQUFGLE9BQUFHLDBCQUVBLE1BQUFDLEVBQUEsS0FBQSxFQUNBUCxFQUFBUSxPQUFBQyxPQUFBLENBQUEsRUFBQVQsR0FFQUMsRUFBQW5DLFFBQUFrQyxFQUFBVSxTQUFBSCxFQUNBTixFQUFBbEMsT0FBQWlDLEVBQUFXLFFBQUFKLEVBQ0FOLEVBQUFqQyxTQUFBZ0MsRUFBQVksVUFBQUwsRUFDQU4sRUFBQWhDLE9BQUErQixFQUFBYSxRQUFBTixFQUNBTixFQUFBL0IsT0FBQThCLEVBQUFjLFFBQUFQLEVBQ0FOLEVBQUE5QixTQUFBNkIsRUFBQWUsVUFBQVIsRUFDQU4sRUFBQTdCLFFBQUE0QixFQUFBZ0IsU0FBQSxDQUFBQyxJQUFBQyxRQUFBQyxJQUFBRixFQUFBLEdBRUEsSUFBQUcsRUFBQSxLQUNBLEdBQUF0QixhQUFBdUIsS0FDQUQsRUFBQXRCLE1BQ0EsQ0FDQSxHQUFBLGlCQUFBQSxFQUNBQyxFQUFBRCxFQUNBQSxFQUFBLGNBQ0EsR0FBQSxpQkFBQUEsRUFDQSxLQUFBLDREQUdBc0IsRUFBQUUsU0FBQUMsY0FBQXpCLEdBQUEsU0FDQSxDQUNBLElBQUFzQixFQW9CQSxLQUFBLHdDQUFBdEIsRUFwQkEsQ0FDQSxJQUFBMEIsRUFBQSxLQUNBLEdBQUEsV0FBQUosRUFBQUssUUFBQSxDQUNBRCxFQUFBSixFQUVBLE1BQUEvQyxFQUFBaUQsU0FBQUksY0FBQSxPQUNBTixFQUFBTyxXQUFBQyxhQUFBdkQsRUFBQStDLEdBQ0EvQyxFQUFBd0QsUUFBQVQsR0FDQUEsRUFBQS9DLENBQ0EsTUFBQSxHQUFBK0MsRUFBQVUsaUJBRUEsR0FEQU4sRUFBQUosRUFBQUcsY0FBQSxXQUNBQyxFQUNBLEtBQUEsa0NBR0FBLEVBQUFGLFNBQUFJLGNBQUEsVUFDQU4sRUFBQVMsUUFBQUwsR0FFQXZCLEVBQUEzQixPQUFBLG9CQUFBNkIsT0FBQXFCLEVBQUFPLDZCQUFBUCxDQUNBLENBR0F2QixFQUFBNUIsUUFBQStDLEVBQ0FuQixFQUFBM0IsT0FBQTBELE1BQUEvQixFQUFBNUIsUUFBQTRELFNBQUFDLFlBQ0FqQyxFQUFBM0IsT0FBQTZELE9BQUFsQyxFQUFBNUIsUUFBQTRELFNBQUFHLGFBQ0FuQyxFQUFBbkIsYUFBQW1CLEVBQUEzQixPQUFBNkQsT0FBQWxDLEVBQUEzQixPQUFBMEQsTUFFQVosRUFBQWlCLFVBQUFDLElBQUEsUUFHQXJDLEVBQUExQixJQUFBMEIsRUFBQTNCLE9BQUFpRSxXQUFBLE1BR0F0QyxFQUFBdUMsSUFBQXpDLEVBQUF5QyxLQUFBLEdBQ0F2QyxFQUFBeEMsS0FBQXNDLEVBQUF0QyxPQUFBLEVBQ0F3QyxFQUFBdkMsU0FBQXFDLEVBQUFyQyxXQUFBLEVBQ0F1QyxFQUFBd0MsV0FBQSxJQUFBMUMsRUFBQTBDLFVBQ0F4QyxFQUFBeUMsS0FBQTNDLEVBQUEyQyxNQUFBLEdBQ0EsU0FBQTNDLEVBQUFpQyxRQUFBakMsRUFBQWlDLE1BQUEsR0FDQSxTQUFBakMsRUFBQW9DLFNBQUFwQyxFQUFBb0MsT0FBQSxHQUdBbEMsRUFBQXpCLE1BQUEsSUFBQW1FLFNBQUEsSUFBQTFDLEVBQUF1QyxLQVNBdkMsRUFBQXhCLEtBQUF3QixFQUFBdkMsU0FDQXVDLEVBQUEyQyxPQUVBMUIsUUFBQUMsSUFBQSxpQ0FFQSxDQUlBMEIsU0FDQTNDLEtBQUF0QixRQUFBLEdBQ0FzQixLQUFBdEMsUUFBQSxDQUNBLENBTUFnRixLQUFBRSxFQUFBQyxHQUNBLE1BQUE5QyxFQUFBQyxVQUNBOEMsSUFBQUQsSUFDQTdDLEtBQUF6QixJQUFBc0UsRUFDQTdDLEtBQUEyQyxVQXlCQSxJQUFBSSxHQUFBLEdBdkJBQyxlQUFBQyxFQUFBTCxHQUNBLE1BQ0FNLFNBREFDLE1BQUFGLElBQ0FHLEtBQUFDLFlBQ0FDLEVBQUEsSUFBQUMsWUFDQSxJQUFBQyxFQUFBLEdBQ0FDLEdBQUEsRUFFQSxNQUFBQSxHQUFBLENBQ0EsTUFBQUMsTUFBQUEsRUFBQUQsS0FBQUUsU0FBQVQsRUFBQVUsT0FPQSxJQUFBQyxFQUNBLElBUEFKLEVBQUFFLEVBR0FILEdBQUFGLEVBQUFRLE9BQUFKLEVBQUEsQ0FBQUssUUFBQSxLQUlBLEtBQUFGLEVBQUFMLEVBQUFRLFFBQUEsUUFBQSxDQUVBcEIsRUFEQVksRUFBQVMsTUFBQSxFQUFBSixJQUVBTCxFQUFBQSxFQUFBUyxNQUFBSixFQUFBLEVBQ0EsQ0FDQSxDQUNBLENBRUFLLENBQUFsRSxLQUFBekIsS0FBQUMsSUFDQXVFLEdBQUFoRCxFQUFBdkMsVUFDQXVDLEVBQUFvRSxhQUFBQyxLQUFBQyxNQUFBN0YsSUFBQSxHQUNBdUUsR0FBQSxHQUVBaEQsRUFBQXVFLE9BQUFGLEtBQUFDLE1BQUE3RixHQUNBLEdBRUEsQ0FNQStGLE9BQUFDLEVBQUE1QixHQUNBLE1BQUE3QyxFQUFBQyxLQUNBeUUsRUFBQSxHQUdBLE9BRkExRSxFQUFBNEMsVUFFQSxHQUNBLElBQUEsaUJBQUE2QixFQUNBQyxFQUFBRCxFQUFBRSxNQUFBLGNBQUFDLElBQUFQLEtBQUFDLFFBQ0EsTUFDQSxLQUFBTyxNQUFBQyxRQUFBTCxHQUNBQyxFQUFBRCxFQUNBLE1BQ0EsSUFBQSxXQUFBQSxFQUFBN0UsWUFBQW1GLEtBQ0FMLEVBQUFNLEtBQUFQLEdBQ0EsTUFDQSxRQUVBLFlBREF4RCxRQUFBQyxJQUFBLDZCQUlBd0QsRUFBQU8sU0FBQUMsSUFDQWxGLEVBQUFvRSxhQUFBYyxHQUNBckMsR0FDQUEsRUFBQXFDLEVBQ0EsR0FFQSxDQUlBWCxPQUFBOUYsR0FDQXdCLEtBQ0F0QixRQUFBcUcsS0FBQXZHLEVBQ0EsQ0FJQW1ELFFBQUFuRCxHQUNBd0IsS0FDQXRCLFFBQUF3RyxRQUFBMUcsR0FEQXdCLEtBRUF4QixPQUNBLENBS0EyRixhQUFBYyxFQUFBRSxHQUNBLE1BQUFwRixFQUFBQyxLQUNBNUIsRUFBQTJCLEVBQUEzQixPQUNBQyxFQUFBMEIsRUFBQTFCLElBQ0EsT0FBQTRHLEVBQUFHLEdBQ0EsSUFBQSxTQUNBdEMsSUFBQW1DLEVBQUFJLEtBQ0F0RixFQUFBeEMsTUFBQSxRQUVBdUYsSUFBQW1DLEVBQUFLLElBQ0F2RixFQUFBM0IsT0FBQTBELE1BQUFtRCxFQUFBSyxFQUNBeEMsTUFBQW1DLEVBQUFNLEtBQ0F4RixFQUFBbEIsU0FBQVksTUFBQXdGLEVBQUFLLEdBRUF2RixFQUFBbkIsYUFBQW1CLEVBQUEzQixPQUFBNkQsT0FBQWxDLEVBQUEzQixPQUFBMEQsWUFFQWdCLElBQUFtQyxFQUFBTyxJQUNBekYsRUFBQTNCLE9BQUE2RCxPQUFBZ0QsRUFBQU8sRUFDQXpGLEVBQUFuQixhQUFBbUIsRUFBQTNCLE9BQUE2RCxPQUFBbEMsRUFBQTNCLE9BQUEwRCxZQUVBZ0IsSUFBQW1DLEVBQUFRLE1BQ0ExRixFQUFBbEIsU0FBQU0sZ0JBQUE4RixFQUFBUSxVQUVBM0MsSUFBQW1DLEVBQUFNLEtBQ0F4RixFQUFBbEIsU0FBQVksTUFBQXdGLEVBQUFNLFNBRUF6QyxJQUFBbUMsRUFBQTNDLE1BQ0F2QyxFQUFBbEIsU0FBQU8sYUFBQTZGLEVBQUEzQyxVQUVBUSxJQUFBbUMsRUFBQVMsS0FDQTNGLEVBQUFsQixTQUFBRyxVQUFBaUcsRUFBQVMsU0FFQTVDLElBQUFtQyxFQUFBVSxNQUNBNUYsRUFBQWxCLFNBQUFJLFVBQUFnRyxFQUFBVSxVQUVBN0MsSUFBQW1DLEVBQUFXLEtBQ0E3RixFQUFBbEIsU0FBQUMsVUFBQW1HLEVBQUFXLFNBRUE5QyxJQUFBbUMsRUFBQVksS0FDQTlGLEVBQUFsQixTQUFBRSxRQUFBa0csRUFBQVksU0FFQS9DLElBQUFtQyxFQUFBYSxLQUNBL0YsRUFBQWxCLFNBQUFLLGlCQUNBYSxFQUFBbEIsU0FBQUssZUFBQStGLEVBQUFhLFVBR0FoRCxJQUFBbUMsRUFBQVIsS0FDQTFFLEVBQUFsQixTQUFBUyxTQUFBMkYsRUFBQVIsU0FFQTNCLElBQUFtQyxFQUFBYyxLQUNBaEcsRUFBQWxCLFNBQUFVLFVBQUEwRixFQUFBYyxTQUVBakQsSUFBQW1DLEVBQUFlLEtBQ0FqRyxFQUFBbEIsU0FBQVEsV0FBQTRGLEVBQUFlLElBRUEsTUFDQSxJQUFBLFNBQ0FsRCxJQUFBbUMsRUFBQWdCLEdBRUFqRixRQUFBQyxJQUFBLHVDQUFBZ0UsR0FFQSxNQUNBLElBQUEsSUF1SkEsSUFBQSxJQUNBLE1BdEpBLElBQUEsSUFDQSxRQUFBbkMsSUFBQW1DLEVBQUFnQixFQUFBLENBQ0EsTUFDQXhHLEVBREFyQixFQUFBMEQsT0FDQW1ELEVBQUFNLElBQUF4RixFQUFBbEIsU0FBQVksT0FFQXBCLEVBQUE2SCxNQUFBakIsRUFBQVIsSUFBQTFFLEVBQUFsQixTQUFBUyxVQUFBRyxFQUFBLE9BQUF3RixFQUFBZSxJQUFBakcsRUFBQWxCLFNBQUFRLFlBQ0FoQixFQUFBOEgsVUFBQWxCLEVBQUFjLElBQUFoRyxFQUFBbEIsU0FBQVUsVUFDQWxCLEVBQUErSCxTQUFBbkIsRUFBQWdCLEVBQUFoQixFQUFBb0IsRUFBQTVHLEdBQUEsRUFBQXdGLEVBQUFxQixFQUFBN0csR0FBQSxHQUNBMEYsSUFBQSxHQUFBcEYsRUFBQXBCLGFBQUFxRixRQUFBaUIsRUFBQWdCLElBQ0FsRyxFQUFBcEIsYUFBQW9HLEtBQUFFLEVBRUEsTUFDQWpFLFFBQUFDLElBQUEsdUNBQUFnRSxHQUVBLE1BQ0EsSUFBQSxJQUNBLFFBQUFuQyxJQUFBbUMsRUFBQWdCLEVBQUEsQ0FDQSxNQUFBTSxJQUFBdEIsRUFBQXVCLEdBQ0FDLElBQUF4QixFQUFBeUIsR0FDQUMsSUFBQTFCLEVBQUEyQixHQUNBQyxFQUFBekksRUFBQTBELE1BQ0FnRixFQUFBLElBQUFDLE1BQ0FELEVBQUF2SSxJQUFBMEcsRUFBQWdCLEVBQ0FhLEVBQUFyRyxPQUFBLEtBdUNBd0UsRUFBQStCLEVBdENBLFNBQUFDLEVBQUFDLEdBQ0EsTUFBQXpILEVBQUFvSCxHQUFBNUIsRUFBQU0sSUFBQXhGLEVBQUFsQixTQUFBWSxPQUNBMEgsR0FBQSxFQUFBbEMsRUFBQUssR0FBQTJCLEVBQUFuRixPQUFBckMsRUFDQTJILEdBQUEsRUFBQW5DLEVBQUFPLEdBQUF5QixFQUFBaEYsUUFBQXhDLEVBRUE0SCxFQUFBQyxLQUFBQyxNQUFBSixFQUFBLEdBQ0FLLEVBQUFGLEtBQUFDLE1BQUFILEVBQUEsR0FFQUssRUFBQXJHLFNBQUFJLGNBQUEsVUFDQWtHLEVBQUFELEVBQUFwRixXQUFBLE1BRUFzRixFQUFBLEtBQUFMLEtBQUFNLElBQUFULEVBQUFDLEdBQ0FTLEVBQUFQLEtBQUFDLE9BQUFJLEVBQUFSLEdBQUEsR0FDQVcsRUFBQVIsS0FBQUMsT0FBQUksRUFBQVAsR0FBQSxHQUNBSyxFQUFBM0YsTUFBQTZGLEVBQ0FGLEVBQUF4RixPQUFBMEYsRUFFQSxNQUFBSSxFQUFBVCxLQUFBQyxNQUFBSSxFQUFBLEdBQ0FLLEVBQUFkLEVBQUFJLEtBQUFXLEdBQUEsSUFNQVAsRUFBQVEsVUFBQUgsRUFBQUEsR0FDQUwsRUFBQVMsT0FBQUgsR0FDQXZCLEdBQ0FpQixFQUFBakksT0FBQSxFQUFBLEdBRUFrSCxHQUNBZSxFQUFBakksTUFBQSxHQUFBLEdBRUFpSSxFQUFBVSxVQUFBbkIsR0FBQUksR0FBQUcsRUFBQUwsRUFBQUMsR0FFQSxNQUFBaUIsRUFBQXBELEVBQUFvQixFQUFBNUcsR0FBQThHLEVBQUFzQixFQUFBRSxHQUNBTyxFQUFBckQsRUFBQXFCLEVBQUE3RyxHQUFBOEcsRUFBQXVCLEVBQUFDLEdBQ0ExSixFQUFBK0osVUFBQVgsRUFBQVksRUFBQUMsRUFBQVgsRUFBQUEsRUFDQSxDQUVBWSxDQUFBekIsRUFBQSxFQUFBN0IsRUFBQStCLEdBRUEzSSxFQUFBK0osVUFBQXRCLEVBQUEsRUFBQTdCLEVBQUFvQixFQUFBLEVBQUFwQixFQUFBcUIsRUFBQSxFQUFBckIsRUFBQUssRUFBQSxFQUFBTCxFQUFBTyxHQUVBTCxJQUFBLEdBQUFwRixFQUFBcEIsYUFBQXFGLFFBQUFpQixFQUFBZ0IsSUFDQWxHLEVBQUFwQixhQUFBb0csS0FBQUUsRUFDQSxDQUVBLE1BQ0FqRSxRQUFBQyxJQUFBLHlDQUFBZ0UsR0FFQSxNQUNBLElBQUEsU0FDQW5DLElBQUFtQyxFQUFBZ0IsR0FDQWxHLEVBQUFyQixRQUFBcUcsS0FBQUUsR0FFQWxGLEVBQUFyQyxTQUNBcUMsRUFBQXJDLFFBQUEsRUFDQXFDLEVBQUF2QyxTQUNBdUMsRUFBQXlJLE9BQ0F6SSxFQUFBd0MsV0FDQXhDLEVBQUEwSSxTQUlBekgsUUFBQUMsSUFBQSx5Q0FBQWdFLEdBRUEsTUFDQSxJQUFBLElBQ0EsUUFBQW5DLElBQUFtQyxFQUFBZ0IsRUFBQSxDQUNBLE1BQUF5QyxFQUFBdEgsU0FBQUksY0FBQSxTQUNBbUgsRUFBQXZILFNBQUFJLGNBQUEsZUFDQXNCLElBQUFtQyxFQUFBSyxJQUFBb0QsRUFBQTVHLE1BQUEsRUFBQW1ELEVBQUFLLFFBQ0F4QyxJQUFBbUMsRUFBQU8sSUFBQWtELEVBQUF6RyxPQUFBLEVBQUFnRCxFQUFBTyxHQUNBa0QsRUFBQUUsT0FBQSxFQUNBRixFQUFBRyxZQUFBRixHQUNBQSxFQUFBcEssSUFBQTBHLEVBQUFnQixFQUNBeUMsRUFBQUksaUJBQUEsUUFBQSxXQUNBLE1BQUFDLEVBQUEvSSxLQUNBLElBQUFnSixFQUFBLEVBQ0EsTUFBQUMsRUFBQSxJQUFBbEosRUFBQWxCLFNBQUFPLGNBQ0EsU0FBQTdCLElBQ0EsSUFBQXdMLEVBQUFHLFNBQUFILEVBQUFJLE1BQUEsQ0FDQUgsR0FBQUMsRUFDQSxNQUFBRyxFQUFBaEwsRUFBQTBELE1BQUFpSCxFQUFBTSxXQUNBQyxFQUFBbEwsRUFBQTZELE9BQUE4RyxFQUFBUSxZQUNBQyxFQUFBbEMsS0FBQW1DLElBQUFMLEVBQUFFLEdBQ0FJLEdBQUF0TCxFQUFBMEQsTUFBQWlILEVBQUFNLFdBQUFHLEdBQUEsRUFDQUcsR0FBQXZMLEVBQUE2RCxPQUFBOEcsRUFBQVEsWUFBQUMsR0FBQSxFQUNBekosRUFBQWxCLFNBQUFNLGtCQUNBZixFQUFBNkQsT0FBQTdELEVBQUEwRCxNQUFBL0IsRUFBQW5CLGNBRUFQLEVBQUF1TCxVQUFBLEVBQUEsRUFBQXhMLEVBQUEwRCxNQUFBMUQsRUFBQTZELFFBQ0E1RCxFQUFBK0osVUFBQVcsRUFBQSxFQUFBLEVBQUFBLEVBQUFNLFdBQUFOLEVBQUFRLFlBQ0FHLEVBQUFDLEVBQUFaLEVBQUFNLFdBQUFHLEVBQUFULEVBQUFRLFlBQUFDLEdBRUFuTCxFQUFBNkgsS0FBQSxhQUNBN0gsRUFBQThILFVBQUEsUUFDQTlILEVBQUErSCxTQUFBa0IsS0FBQUMsTUFBQXlCLEdBQUEsR0FBQSxJQUdBakosRUFBQXBCLGFBQUFrTCxRQUNBOUosRUFBQXBCLGFBQUFxRyxTQUFBOEUsSUFDQSxHQUFBQSxFQUFBQyxFQUFBLENBQ0EsTUFBQUMsRUFBQWpLLEVBQUFrSyxvQkFBQUgsRUFBQUMsR0FDQUcsRUFBQUosRUFBQWpFLEdBQUFtRSxFQUFBakssRUFBQWtLLG9CQUFBSCxFQUFBakUsSUFBQTlGLEVBQUFsQixTQUFBRSxTQUFBLGNBQ0FpSyxHQUFBZ0IsR0FBQWhCLEdBQUFrQixHQUNBbkssRUFBQW9FLGFBQUEyRixHQUFBLEVBRUEsTUFDQS9KLEVBQUFvRSxhQUFBMkYsR0FBQSxFQUNBLElBR0FLLFdBQUE1TSxFQUFBMEwsRUFDQSxDQUNBLENBbkNBLEVBb0NBLEdBQUEsR0FDQVAsRUFBQUYsT0FDQXpJLEVBQUF4QyxPQUNBbUwsRUFBQTBCLFFBQUEsSUFBQTFCLEVBQUFGLE9BRUEsTUFDQXhILFFBQUFDLElBQUEsdUNBQUFnRSxHQUVBLE1BR0EsSUFBQSxJQUNBbEYsRUFBQWpDLFNBQUFtSCxHQVNBbEYsRUFBQXBDLFVBQ0FvQyxFQUFBbkMsUUFBQW1DLEdBQ0FBLEVBQUFwQyxTQUFBLEVBRUEsQ0FLQTBNLFFBQUFDLEdBQ0EsR0FBQSxNQUFBdEssS0FBQTFCLE1BQ0EsS0FBQSwrQkFFQSxHQUFBLElBQUEwQixLQUFBdEIsUUFBQW1MLE9BQ0EsS0FBQSx5Q0FHQTdKLEtBQUF4QixPQUFBd0IsS0FBQXRCLFFBQUFtTCxPQUFBLElBQ0E3SixLQUFBeEIsTUFBQXdCLEtBQUF6QyxLQUFBLEVBQUF5QyxLQUFBdEIsUUFBQW1MLE9BQUEsR0FFQTdKLEtBQUF4QixNQUFBLElBQ0F3QixLQUFBeEIsTUFBQXdCLEtBQUF6QyxLQUFBeUMsS0FBQXRCLFFBQUFtTCxPQUFBLEVBQUEsR0FFQTdKLEtBQUF1SyxZQUFBRCxFQUNBLENBTUFDLFlBQUFELEdBQ0EsTUFBQXZLLEVBQUFDLEtBQ0EsSUFBQWlGLEVBQUFsRixFQUFBckIsUUFBQXFCLEVBQUF2QixPQUNBLEdBQUF5RyxFQUFBLENBQ0EsTUFBQXVGLEVBQUEsV0FDQXpLLEVBQUFqQyxTQUFBbUgsR0FDQWxGLEVBQUF6QixNQUFBbU0sTUFBQSxXQUNBMUssRUFBQTJLLGFBQ0FKLEdBRUF2SyxFQUFBekIsTUFBQXFNLFNBRUE1SyxFQUFBd0ssYUFDQSxHQUNBLEVBQ0EsUUFBQXpILElBQUFtQyxFQUFBZ0IsRUFBQSxDQUNBLE1BQUF6SCxFQUFBdUIsRUFBQWxCLFNBQUFHLFVBQUFpRyxFQUFBZ0IsRUFDQWxHLEVBQUE2SyxPQUFBcE0sRUFBQWdNLEVBQ0EsTUFDQUEsR0FFQSxDQUNBLENBS0FFLGFBQ0ExSyxLQUFBeEIsT0FBQSxFQUFBd0IsS0FBQXZCLFdBQ0F1QixLQUFBeEIsTUFBQSxJQUNBd0IsS0FBQXpDLEtBQ0F5QyxLQUFBeEIsTUFBQXdCLEtBQUF0QixRQUFBbUwsT0FBQSxHQUVBN0osS0FBQXhCLE1BQUEsRUFDQXdCLEtBQUE2SyxRQUNBN0ssS0FBQS9CLFNBQUErQixRQUdBQSxLQUFBeEIsTUFBQXdCLEtBQUE4SyxjQUFBLElBQ0E5SyxLQUFBekMsS0FDQXlDLEtBQUF4QixNQUFBLEdBRUF3QixLQUFBeEIsTUFBQXdCLEtBQUF0QixRQUFBbUwsT0FBQSxFQUNBN0osS0FBQTZLLFFBQ0E3SyxLQUFBL0IsU0FBQStCLE9BR0EsQ0FRQStLLE1BQUEsU0FBQWpFLEVBQUFsRSxHQUNBLE1BQUE3QyxFQUFBQyxLQWNBLE9BWkEsSUFBQThHLEVBQUFoRixPQUFBLElBQUFnRixFQUFBN0UsUUFDQTZFLEVBQUFoRyxlQUNBZ0MsSUFBQUYsR0FDQUEsR0FBQSxLQUdBN0MsRUFBQTFCLElBQUF1TCxVQUFBLEVBQUEsRUFBQTdKLEVBQUEzQixPQUFBMEQsTUFBQS9CLEVBQUEzQixPQUFBNkQsUUFDQWxDLEVBQUExQixJQUFBK0osVUFBQXRCLEVBQUEsRUFBQSxFQUFBQSxFQUFBaEYsTUFBQWdGLEVBQUE3RSxPQUFBLEVBQUEsRUFBQWxDLEVBQUEzQixPQUFBMEQsTUFBQS9CLEVBQUEzQixPQUFBNkQsYUFDQWEsSUFBQUYsR0FDQUEsR0FBQSxJQUdBNUMsSUFDQSxFQU9BNEssT0FBQSxTQUFBM0QsRUFBQXJFLEdBQ0EsTUFBQTdDLEVBQUFDLEtBQ0E4RyxFQUFBLElBQUFDLE1Ba0JBLE9BakJBRCxFQUFBa0UsWUFBQSxHQUNBbEUsRUFBQXJHLE9BQUEsV0FDQVYsRUFBQWdMLE1BQUFqRSxHQUFBLFNBQUFtRSxHQUNBQSxRQUNBbkksSUFBQUYsR0FDQUEsRUFBQWtFLEVBR0EsR0FDQSxFQUNBQSxFQUFBaEcsUUFBQSxXQUNBLE1BQUFvSyxFQUFBbkwsRUFBQTdCLFVBQ0FnTixJQUNBcEUsRUFBQXZJLElBQUEyTSxFQUVBLEVBQ0FwRSxFQUFBdkksSUFBQSxNQUFBMEksRUFBQSxJQUFBQSxFQUFBa0UsTUFBQSxhQUFBbEUsRUFBQWtFLE1BQUEsZUFBQWxFLEVBQUFsSCxFQUFBeUMsS0FBQXlFLEVBQ0FqSCxJQUNBLEVBS0FpSyxvQkFBQW1CLEdBQ0EsSUFBQXBDLEVBQUEsRUFLQSxPQUpBLElBQUFvQyxFQUFBcEgsUUFBQSxPQUNBZ0YsRUFBQSxFQUFBb0MsRUFBQTFHLE1BQUEsS0FBQSxHQUNBMEcsRUFBQUEsRUFBQTFHLE1BQUEsS0FBQSxJQUVBLE1BQUEsSUFBQTBHLEVBQUFwSCxRQUFBLEtBQUFvSCxFQUFBMUcsTUFBQSxLQUFBMkcsUUFBQSxDQUFBQyxFQUFBQyxFQUFBQyxJQUFBRixFQUFBQyxFQUFBakUsS0FBQW1FLElBQUEsR0FBQSxFQUFBRCxJQUFBLEdBQUEsR0FBQXhDLENBQ0EsQ0FNQWhLLFlBQ0EsT0FBQWdCLEtBQUFuQixTQUFBRyxTQUNBLENBSUFDLFlBQ0EsT0FBQWUsS0FBQW5CLFNBQUFJLFNBQ0EsQ0FNQXlNLGVBQ0EsT0FBQTFMLEtBQUF4QixLQUNBLENBT0FzTSxjQUNBLE9BQUE5SyxLQUFBMkwsWUFBQTNMLEtBQUF0QixRQUFBbUwsTUFDQSxDQU9BckssWUFDQSxPQUFBUSxLQUFBNEwsVUFBQTVMLEtBQUEwTCxlQUFBMUwsS0FBQXNDLEdBQ0EsQ0FNQXVKLFFBQUFDLEdBQ0EsTUFBQS9MLEVBQUFDLEtBQ0EsSUFBQXhCLEVBQUFzTixFQUFBOUwsS0FBQThLLGNBQUEvSyxFQUFBckIsUUFBQW9OLEdBQUEsS0FJQSxPQUhBdE4sSUFDQUEsRUFBQWtILEdBQUEzRixFQUFBbEIsU0FBQUcsV0FFQVIsQ0FDQSxDQU9BdU4sUUFBQUMsR0FFQSxTQUFBQSxFQURBaE0sS0FDQThLLGNBQUEsSUFDQSxDQU9BbUIsYUFDQSxPQUFBak0sS0FBQTdCLE9BQ0EsQ0FNQXFLLEtBQUEwRCxHQUNBQSxFQUFBLEVBQ0FBLEVBQUEsRUFDQUEsRUFBQWxNLEtBQUF0QixRQUFBbUwsT0FDQXFDLEVBQUFsTSxLQUFBdEIsUUFBQW1MLE9BQUEsT0FDQS9HLElBQUFvSixJQUNBbE0sS0FBQXhCLE1BQUEsRUFBQTBOLEdBRUFsTSxLQUFBdkMsU0FBQSxFQUNBdUMsS0FBQTFCLE1BQUFrSyxPQUNBeEksS0FBQXFLLFNBQUEsR0FDQXJLLEtBQUFqQyxPQUFBaUMsS0FDQSxDQU9BbU0sWUFBQUQsR0FDQWxNLEtBQUF3SSxLQUFBMEQsRUFDQSxDQUtBckIsUUFDQTdLLEtBQUF2QyxTQUFBLEVBQ0F1QyxLQUFBMUIsTUFBQXVNLFFBQ0E3SyxLQUFBaEMsT0FBQWdDLEtBQ0EsQ0FLQW9NLE9BQ0FwTSxLQUFBdkMsU0FBQSxFQUNBdUMsS0FBQXhCLE1BQUEsRUFDQXdCLEtBQUExQixNQUFBdU0sUUFDQTdLLEtBQUF1SyxhQUFBLEdBQ0F2SyxLQUFBaEMsT0FBQWdDLEtBQ0EsQ0FLQXlJLE9BQ0F6SSxLQUFBakMsT0FBQWlDLE1BQ0FBLEtBQUF2QyxTQUFBLEVBQ0F1QyxLQUFBMUIsTUFBQW1LLE9BQ0F6SSxLQUFBcUssU0FBQSxHQUNBckssS0FBQWhDLE9BQUFnQyxLQUNBLENBS0FxTSxPQUFBSCxHQUNBQSxFQUFBLEVBQ0FBLEVBQUEsRUFDQUEsRUFBQWxNLEtBQUF0QixRQUFBbUwsT0FDQXFDLEVBQUFsTSxLQUFBdEIsUUFBQW1MLE9BQUEsT0FDQS9HLElBQUFvSixJQUNBbE0sS0FBQXhCLE1BQUEsRUFBQTBOLEdBRUFsTSxLQUFBcUssU0FBQSxFQUNBLENBS0FpQyxlQUNBdE0sS0FBQXlJLE1BQ0EsQ0FNQThELFFBUUEsWUFQQXpKLElBQUE5QyxLQUFBM0IsSUFBQWtPLFFBQ0F2TSxLQUFBM0IsSUFBQWtPLFFBQ0F2TSxLQUFBM0IsSUFBQW1PLFFBQ0F4TSxLQUFBb00sT0FFQXBNLEtBQUE1QixPQUFBMEQsTUFBQTlCLEtBQUE1QixPQUFBMEQsT0FFQTlCLElBQ0EsRUNqeEJBLE1BQUF5TSxVQUNBdkwsT0FDQXJCLFFBQ0E2TSxHQVFBL00sWUFBQXBCLEVBQUFxQixFQUFBQyxHQUNBLE1BQUFFLEVBQUFDLEtBQ0EsU0FBQTJNLEVBQUFDLEdBQ0EsT0FBQUEsRUFBQTVJLFFBQUEsS0FBQSxJQUFBLElBQUE0SSxFQUFBNUksUUFBQSxJQUNBLENBQ0EsU0FBQTZJLEVBQUFELEdBQ0EsTUFBQSxNQUFBQSxFQUFBLElBQUEsTUFBQUEsRUFBQSxJQUFBLE9BQUF4TCxTQUFBQyxjQUFBdUwsRUFDQSxDQUNBLE9BQUFFLFVBQUFqRCxRQUNBLEtBQUEsRUFDQSxXQUFBaUQsVUFBQSxHQUFBbk4sWUFBQW1GLE9BQ0FqRixFQUFBaU4sVUFBQSxHQUNBSCxFQUFBRyxVQUFBLElBQ0FsTixFQUFBLE1BQ0FrTixVQUFBLGFBQUFDLGFBQUFGLEVBQUFDLFVBQUEsT0FDQWxOLEVBQUFrTixVQUFBLEdBQ0F2TyxFQUFBLE9BR0EsTUFDQSxLQUFBLEVBQ0EsUUFBQSxHQUNBLElBQUEsV0FBQXVPLFVBQUEsR0FBQW5OLFlBQUFtRixLQUNBakYsRUFBQWlOLFVBQUEsR0FDQXZPLEVBQUEsS0FDQXFCLEVBQUEsS0FDQSxNQUNBLEtBQUErTSxFQUFBRyxVQUFBLElBQ0F2TyxFQUFBdU8sVUFBQSxHQUNBbE4sRUFBQSxLQUNBQyxFQUFBLENBQUEsRUFDQSxNQUNBLEtBQUFpTixVQUFBLGFBQUFDLGFBQUFGLEVBQUFDLFVBQUEsSUFDQWxOLEVBQUFrTixVQUFBLEdBQ0F2TyxFQUFBLEtBQ0FzQixFQUFBLENBQUEsRUFDQSxNQUNBLFFBQ0FtQixRQUFBQyxJQUFBLDBEQUNBMUMsRUFBQSxLQUNBcUIsRUFBQSxLQUNBQyxFQUFBLENBQUEsRUFHQSxNQUNBLEtBQUEsRUFDQUEsRUFBQSxDQUFBLEVBS0FFLEVBQUFGLFFBQUFTLE9BQUFDLE9BQUEsQ0FDQXlNLFVBQUEsRUFlQUMsUUFBQSxFQUNBQyxTQUFBLENBQUFDLEVBQUFDLEVBQUFDLEtBQUEsRUFDQTFNLE9BQUF5TSxJQUFBLEVBQ0F4TSxPQUFBd00sSUFBQSxHQUNBdk4sR0FBQSxDQUFBLEdBR0FHLEtBQUFzTixRQUFBMU4sR0FFQUksS0FBQWtCLE9BQUEsSUFBQTVELGFBQUFpQixFQUFBcUIsRUFBQUcsRUFBQUYsUUFBQSxDQUNBVyxRQUFBLFNBQUFVLEdBQ0FuQixFQUFBd04sbUJBQ0F6SyxJQUFBL0MsRUFBQUYsUUFBQVcsU0FDQVQsRUFBQUYsUUFBQVcsUUFBQVUsRUFFQSxFQUNBVCxPQUFBLFNBQUFTLFFBQ0E0QixJQUFBL0MsRUFBQUYsUUFBQVksUUFDQVYsRUFBQUYsUUFBQVksT0FBQVMsRUFFQSxFQUNBUixTQUFBLFNBQUFsQyxHQUNBdUIsRUFBQXlOLFVBQUFoUCxRQUNBc0UsSUFBQS9DLEVBQUFGLFFBQUFhLFVBQ0FYLEVBQUFGLFFBQUFhLFNBQUFsQyxFQUVBLEVBQ0FtQyxPQUFBLFNBQUFPLEdBQ0FuQixFQUFBMk0sR0FBQWUsUUFDQTFOLEVBQUEyTSxHQUFBbEUsS0FBQWtGLE1BQUEsRUFDQTNOLEVBQUEyTSxHQUFBakUsS0FBQWtGLElBQUFDLFNBQUEsY0FDQTdOLEVBQUEyTSxHQUFBakUsS0FBQWlGLE1BQUEsR0FFQTNOLEVBQUEyTSxHQUFBN0IsTUFBQTZDLE1BQUEsR0FFQTNOLEVBQUFGLFFBQUFjLE9BQUFPLEVBQ0EsRUFDQU4sT0FBQSxTQUFBTSxHQUNBbkIsRUFBQTJNLEdBQUFlLFFBQ0ExTixFQUFBMk0sR0FBQWxFLEtBQUFrRixNQUFBLEVBQ0EzTixFQUFBMk0sR0FBQWpFLEtBQUFrRixJQUFBQyxTQUFBLGNBQ0E3TixFQUFBMk0sR0FBQWpFLEtBQUFpRixNQUFBLEdBRUEzTixFQUFBMk0sR0FBQTdCLE1BQUE2QyxNQUFBLEdBRUEzTixFQUFBRixRQUFBZSxPQUFBTSxFQUNBLEVBQ0FMLFNBQUEsU0FBQUssR0FFQSxFQUNBSixRQUFBLFNBQUFDLEdBQ0FDLFFBQUFDLElBQUFGLEVBRUEsSUFHQWQsT0FBQTZJLGlCQUFBLFVBQUEsU0FBQStFLEdBQ0E5TixFQUFBd04sYUFDQSxJQUFBLEVBQ0EsQ0FNQUMsVUFBQWhQLEdBQ0EsTUFBQXVCLEVBQUFDLEtBQ0EsR0FBQUQsRUFBQTJNLEdBQUEsQ0FJQSxHQUhBM00sRUFBQTJNLEdBQUFsSSxTQUNBekUsRUFBQTJNLEdBQUFsSSxPQUFBc0osS0FBQS9OLEVBQUFtQixPQUFBd0ssZUFBQSxFQUFBLElBQUEzTCxFQUFBbUIsT0FBQTRKLGVBRUEvSyxFQUFBMk0sR0FBQXFCLE1BQUEsQ0FDQSxJQUFBRCxFQUFBLEdBQ0EsTUFBQWhJLEVBQUEvRixFQUFBbUIsT0FBQThNLHNCQUFBbEwsSUFBQXRFLEVBQUFzSCxHQUNBaUUsT0FBQWpILElBQUF0RSxFQUFBdUwsRUFDQWxFLEVBQUE5RixFQUFBbUIsT0FBQTBLLFNBQUEsRUFDQXBOLEVBQUF5UCxJQUNBSCxFQUFBdFAsRUFBQXlQLEVBQUEsS0FFQW5JLEVBQ0FnSSxHQUFBL04sRUFBQW1PLGNBQUExUCxFQUFBc0gsR0FBQS9GLEVBQUFtQixPQUFBOE0saUJBQ0FqRSxJQUNBK0QsR0FBQXRQLEVBQUF1TCxFQUFBL0YsUUFBQSxLQUFBLEVBQUF4RixFQUFBdUwsRUFBQWhLLEVBQUFvTyxTQUFBM1AsRUFBQXVMLElBRUFsRSxJQUNBaUksR0FBQSxJQUFBL04sRUFBQW1CLE9BQUExQixhQUVBTyxFQUFBMk0sR0FBQXFCLE1BQUFELEtBQUFBLENBQ0EsQ0FDQS9OLEVBQUEyTSxHQUFBMEIsVUFBQXJPLEVBQUFtQixPQUFBNEosZ0JBQ0EvSyxFQUFBMk0sR0FBQTBCLFNBQUExSyxNQUFBNEQsS0FBQUMsT0FBQXhILEVBQUFtQixPQUFBd0ssZUFBQSxHQUFBM0wsRUFBQW1CLE9BQUE0SixjQUFBLEtBRUEsQ0FDQSxDQVNBeUMsY0FDQSxHQUFBdk4sS0FBQUgsUUFBQW9OLE9BQUEsQ0FDQSxJQUFBL0wsRUFBQWxCLEtBQUFrQixPQUFBL0MsUUFDQTRELEVBQUFiLEVBQUFhLFNBQ0FzTSxHQUFBck8sS0FBQUgsUUFBQW9DLFFBQUFqQyxLQUFBa0IsT0FBQTlDLE9BQUE2RCxTQUFBakMsS0FBQUgsUUFBQWlDLE9BQUE5QixLQUFBa0IsT0FBQTlDLE9BQUEwRCxPQUNBOUIsS0FBQWtCLE9BQUE5QyxPQUFBNkQsT0FBQUYsRUFBQUcsY0FBQWxDLEtBQUFILFFBQUFtTixTQUFBOUwsRUFBQUcsY0FBQSxVQUFBYSxhQUFBLEdBQ0FsQyxLQUFBa0IsT0FBQTlDLE9BQUEwRCxNQUFBOUIsS0FBQWtCLE9BQUE5QyxPQUFBNkQsT0FBQW9NLENBQ0EsQ0FDQSxDQU9BZixRQUFBMU4sR0FDQSxNQUFBRyxFQUFBQyxLQUNBLEdBQUFzTyxLQUFBLENBQ0EsTUFBQUMsRUFBQUQsS0FBQTVMLE9BQ0EzQyxFQUFBMk0sR0FBQTZCLEVBQUEzTyxFQUFBRyxFQUFBeU8sT0FBQTVPLElBQ0FHLEVBQUEyTSxHQUFBZSxPQUNBLENBQUEsUUFBQSxPQUFBLE9BQUEsUUFBQSxPQUFBLFFBQUEsV0FBQSxTQUFBLGNBQUF6SSxTQUFBeUosSUFDQTFPLEVBQUEyTSxHQUFBK0IsR0FBQTFPLEVBQUEyTSxHQUFBZSxNQUFBZ0IsRUFBQSxHQUdBLE1BQ0F6TixRQUFBQyxJQUFBLDhHQUVBLENBUUF1TixPQUFBNU8sR0FDQSxNQUFBRyxFQUFBQyxLQUNBLElBQUEwTSxFQUFBLENBQUFnQyxLQUFBOU8sRUFBQStPLFdBQUEsSUFHQSxHQUFBNU8sRUFBQUYsUUFBQW1OLFdBQ0FOLEVBQUExTSxLQUFBNE8sY0FHQSxTQURBN08sRUFBQUYsUUFBQW1OLFVBRUFOLEVBQUFlLE1BQUFoRixLQUFBa0YsSUFBQWtCLE9BQUEsWUFXQTdPLEtBQUFILFFBQUFtTixTQUdBLElBQUE4QixFQUFBbFAsYUFBQXVCLEtBQUF2QixFQUFBd0IsU0FBQUMsY0FBQXpCLEdBQ0EsR0FBQWtQLEVBQUEsQ0FDQUEsRUFBQXpOLGNBQUEsWUFFQXFMLEVBQUFwTSxPQUFBQyxPQUFBLENBQUFuQyxPQUFBLElBQUFzTyxHQUVBLE1BQ0ExTCxRQUFBQyxJQUFBLGlCQUFBckIsRUFBQSw4QkFDQThNLEVBQUFwTSxPQUFBQyxPQUFBLENBQUFuQyxPQUFBLElBQUFzTyxHQUVBLE9BQUFBLENBQ0EsQ0FPQWtDLGNBQ0EsTUFBQTdPLEVBQUFDLEtBU0EsT0FSQW9CLFNBQUEwSCxpQkFBQSxvQkFBQStFLElBQ0EsTUFBQTNNLEVBQUFuQixFQUFBbUIsT0FBQS9DLFFBQ0FpRCxTQUFBMk4sa0JBQ0E3TixFQUFBaUIsVUFBQUMsSUFBQSxjQUVBbEIsRUFBQWlCLFVBQUEwTSxPQUFBLGFBQ0EsSUFFQSxDQUNBRyxRQUFBLEdBQ0FyQixJQUFBNU4sRUFBQUYsUUFBQW1OLFNBQ0FTLE1BQUEsQ0FDQWxNLFFBQUEsTUFDQTBOLFVBQUEsUUFDQUMsTUFBQSxDQUNBM04sUUFBQSxTQUNBME4sVUFBQSxRQUNBbkksSUFBQSxDQUNBdkksSUFBQSxJQUVBeVEsUUFBQSxDQUNBek4sUUFBQSxhQUNBME4sVUFBQSxZQUlBRSxJQUFBLENBQ0E1TixRQUFBLElBQ0EwTixVQUFBLE1BQ0FHLE1BQUEsT0FDQUMsS0FBQSxLQUVBN0csS0FBQSxDQUNBakgsUUFBQSxJQUNBME4sVUFBQSxPQUNBRyxNQUFBLE9BQ0FDLEtBQUEsSUFDQUMsUUFBQSxXQUdBLE9BRkF2UCxFQUFBMk0sR0FBQVEsU0FBQSxPQUFBbk4sRUFBQW1CLE9BQUFuQixHQUNBQSxFQUFBbUIsT0FBQXNILFFBQ0EsQ0FDQSxHQUVBcUMsTUFBQSxDQUNBdEosUUFBQSxJQUNBME4sVUFBQSxRQUNBRyxNQUFBLFFBQ0FDLEtBQUEsSUFDQUMsUUFBQSxXQUdBLE9BRkF2UCxFQUFBMk0sR0FBQVEsU0FBQSxRQUFBbk4sRUFBQW1CLE9BQUFuQixHQUNBQSxFQUFBbUIsT0FBQTJKLFNBQ0EsQ0FDQSxHQUVBcEMsS0FBQSxDQUNBbEgsUUFBQSxJQUNBb00sSUFBQSxDQUFBLE9BQUEsWUFDQXlCLE1BQUEsT0FDQUMsS0FBQSxJQUNBQyxRQUFBLFdBR0EsT0FGQXZQLEVBQUEyTSxHQUFBUSxTQUFBLE9BQUFuTixFQUFBbUIsT0FBQW5CLEdBQ0FBLEVBQUFtQixPQUFBdUgsUUFDQSxDQUNBLEdBRUEyRCxLQUFBLENBQ0E3SyxRQUFBLElBQ0EwTixVQUFBLE9BQ0FHLE1BQUEsT0FDQUMsS0FBQSxJQUNBQyxRQUFBLFdBR0EsT0FGQXZQLEVBQUEyTSxHQUFBUSxTQUFBLE9BQUFuTixFQUFBbUIsT0FBQW5CLEdBQ0FBLEVBQUFtQixPQUFBa0wsUUFDQSxDQUNBLEdBR0EyQixNQUFBLENBQ0F4TSxRQUFBLFFBQ0EwTixVQUFBLFFBQ0FHLE1BQUEsNEJBQ0F0QixLQUFBLFFBRUF5QixLQUFBLENBQ0FoTyxRQUFBLFFBQ0EwTixVQUFBLE9BQ0FuQixLQUFBLGFBR0FNLFNBQUEsQ0FDQTFLLE1BQUEsRUFDQWtFLElBQUEsSUFDQTRILFlBQUEsU0FBQXpPLEdBQ0EsSUFBQTBPLEtBQUExTyxFQUFBLFFBQUFmLEtBQUEwUCxZQUFBLEtBQ0FsUixFQUFBdUIsRUFBQW1CLE9BQUEySyxRQUFBOUwsRUFBQW1CLE9BQUE2SyxRQUFBMEQsSUFDQWpSLEdBQ0F1QixFQUFBMk0sR0FBQXdDLE1BQUF4QixNQUFBLEVBQ0EzTixFQUFBMk0sR0FBQXdDLE1BQUFwSSxJQUFBdkksS0FBQXdCLEVBQUFtQixPQUFBakMsYUFBQWMsRUFBQW1CLE9BQUFsQyxjQUFBUixFQUFBbVIsSUFBQW5SLEVBQUF5SCxHQUNBbEcsRUFBQTJNLEdBQUF3QyxNQUFBcEksSUFBQXJHLE9BQUEsV0FDQSxNQUFBcUIsRUFBQS9CLEVBQUEyTSxHQUFBd0MsTUFBQXBJLElBQUE4SSxjQUFBN1AsRUFBQTJNLEdBQUF3QyxNQUFBcEksSUFBQWhGLE1BQ0EvQixFQUFBMk0sR0FBQXdDLE1BQUFXLE1BQUEvTixNQUFBQSxFQUFBLElBQ0EsT0FDQWdCLElBQUF0RSxFQUFBc1IsS0FDQS9QLEVBQUEyTSxHQUFBd0MsTUFBQUYsUUFBQXhRLEVBQUFzUixJQUVBL1AsRUFBQTJNLEdBQUF3QyxNQUFBVyxNQUFBRSxLQUFBL1AsS0FBQWdRLFdBQUFqUCxFQUFBa1AsUUFBQWxRLEVBQUEyTSxHQUFBd0MsTUFBQWxOLFlBQUEsRUFBQSxNQUVBakMsRUFBQTJNLEdBQUF3QyxNQUFBeEIsTUFBQSxDQUVBLEVBQ0F3QyxhQUFBLFdBQ0FuUSxFQUFBMk0sR0FBQXdDLE1BQUF4QixNQUFBLENBQ0EsRUFDQTRCLFFBQUEsU0FBQXZPLEdBQ0EsSUFBQTBPLEtBQUExTyxFQUFBLFFBQUFmLEtBQUEwUCxZQUFBLEtBQ0E1RCxFQUFBL0wsRUFBQW1CLE9BQUE2SyxRQUFBMEQsR0FDQTFQLEVBQUFtQixPQUFBbUwsT0FBQVAsR0FDQS9MLEVBQUEyTSxHQUFBUSxTQUFBLFdBQUFuTixFQUFBbUIsT0FBQW5CLEVBQ0EsR0FHQXlFLE9BQUEsQ0FDQWpELFFBQUEsUUFDQTBOLFVBQUEsU0FDQUcsTUFBQSwrQkFDQXRCLEtBQUEsS0FHQXFDLFdBQUEsQ0FDQTVPLFFBQUEsSUFDQTBOLFVBQUEsYUFDQUcsTUFBQSxjQUNBQyxLQUFBLElBQ0FDLFFBQUEsU0FBQWMsR0FDQSxNQUFBbFAsRUFBQW5CLEVBQUFtQixPQUFBL0MsUUFRQSxPQVBBK0MsRUFBQWlCLFVBQUF5TCxTQUFBLGVBQ0E3TixFQUFBMk0sR0FBQVEsU0FBQSxrQkFBQW5OLEVBQUFtQixPQUFBbkIsR0FDQXFCLFNBQUFpUCxtQkFFQXRRLEVBQUEyTSxHQUFBUSxTQUFBLGFBQUFuTixFQUFBbUIsT0FBQW5CLEdBQ0FtQixFQUFBb1Asc0JBRUEsQ0FDQSxJQUlBcEQsU0FBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUNBdE4sRUFBQUYsUUFBQXFOLFNBQUFDLEVBQUFDLEVBQUFDLEVBQ0EsRUFDQTFNLE9BQUEsU0FBQXlNLEdBQ0FyTixFQUFBRixRQUFBYyxPQUFBeU0sRUFDQSxFQUNBeE0sT0FBQSxTQUFBd00sR0FDQXJOLEVBQUFGLFFBQUFlLE9BQUF3TSxFQUFBQyxTQUNBLEVBRUEsQ0FRQWMsU0FBQS9DLEdBRUEsSUFBQW1GLEdBREFuRixFQUFBQSxFQUFBb0YsUUFBQSxJQUNBOUwsTUFBQSxLQUFBLElBQUEsS0FDQSxVQUFBMEcsRUFBQSxJQUFBLElBQUFxRixTQUFBLEVBQUEsS0FBQSxRQUFBckYsRUFBQSxHQUFBLEVBQUEsSUFBQSxJQUFBcUYsU0FBQSxFQUFBLEtBQUEsSUFBQUYsQ0FDQSxDQUtBckMsY0FBQWxGLEdBQ0EsU0FBQTBILEVBQUFDLEVBQUFDLEdBQ0EsT0FBQSxLQUFBRCxHQUFBMU0sT0FBQSxHQUFBMk0sR0FBQSxHQUNBLENBQ0EsTUFBQXBMLEVBQUE4QixLQUFBdUosTUFBQTdILEVBQUEsSUFBQSxHQUFBLElBQ0E4SCxFQUFBeEosS0FBQXVKLE1BQUEsSUFBQTdILEVBQUEsSUFBQSxHQUFBLEdBQUF4RCxJQUNBdUwsRUFBQXpKLEtBQUF1SixNQUFBLElBQUEsSUFBQTdILEVBQUEsSUFBQSxHQUFBLEdBQUF4RCxHQUFBc0wsSUFDQUUsRUFBQUMsU0FBQWpJLEVBQUEsSUFBQSxLQUNBLE9BQUEwSCxFQUFBbEwsR0FBQSxJQUFBa0wsRUFBQUksR0FBQSxJQUFBSixFQUFBSyxHQUFBLElBQUFMLEVBQUFNLEVBQUEsRUFDQSxFQ3RiQSxTQUFBdk8sU0FBQXlPLEVBQUF0TyxHQUNBLElBQUFvSCxFQUFBMUwsRUFBQTZPLEVBQUE2RCxFQUFBRyxFQUFBLENBQUEsRUFDQUEsRUFBQUMsU0FBQUYsRUFDQUMsRUFBQUUsUUFBQSxHQUNBRixFQUFBRyxPQUFBLE9BQ0EsSUFBQUMsR0FBQSxJQUFBQyxNQUFBQyxVQTREQSxPQTNEQXpILEVBQUF1SCxFQUFBTCxFQUNBQyxFQUFBMUcsS0FBQSxTQUFBaUgsR0FFQSxPQURBOU8sRUFBQThPLEVBQ0FQLENBQ0EsRUFDQUEsRUFBQXhHLE9BQUEsV0FFQSxPQURBL0gsRUFBQSxLQUNBdU8sQ0FDQSxFQUVBQSxFQUFBUSxLQUFBLFdBR0EsT0FGQS9PLEdBQUFBLElBQ0FvSCxHQUFBLElBQUF3SCxNQUFBQyxVQUNBTixDQUNBLEVBRUFBLEVBQUFTLE1BQUEsV0FFQSxPQURBekUsR0FBQUEsSUFDQWdFLENBQ0EsRUFDQUEsRUFBQTNJLEtBQUEsV0FHQSxPQUZBMkUsRUFBQWdFLEVBQUExSSxLQUNBMEksRUFBQUcsT0FBQSxVQUNBSCxDQUNBLEVBQ0FBLEVBQUF0RyxNQUFBLFdBR0EsT0FGQXNDLEVBQUEsS0FDQWdFLEVBQUFHLE9BQUEsU0FDQUgsQ0FDQSxFQUNBQSxFQUFBVSxRQUFBLFdBSUEsSUFBQSxJQUFBQyxLQUhBM0UsRUFBQSxLQUNBNEUsY0FBQXpULEdBQ0FBLEVBQUEsS0FDQTZTLEVBQ0FBLEVBQUFXLEdBQUEsWUFDQVgsRUFBQVcsR0FFQVgsRUFBQUcsT0FBQSxXQUNBLEVBQ0FILEVBQUExSSxLQUFBLFdBUUEsT0FQQThJLEdBQUEsSUFBQUMsTUFBQUMsVUFDQVQsRUFBQTFKLEtBQUFNLElBQUEsRUFBQXVKLEVBQUFDLFVBQUFHLEVBQUF2SCxJQUNBLElBQUFnSCxJQUNBQSxFQUFBRyxFQUFBQyxTQUNBcEgsR0FBQSxJQUFBd0gsTUFBQUMsVUFDQTdPLEdBQUFBLEtBRUF1TyxDQUNBLEVBQ0FBLEVBQUFhLEtBQUEsV0FFQSxPQURBYixFQUFBQyxTQUFBLElBQ0FELENBQ0EsRUFDQUEsRUFBQWMsS0FBQSxXQUVBLE9BREFkLEVBQUFDLFNBQUFGLEVBQ0FDLENBQ0EsRUFDQTdTLEVBQUE0VCxZQUFBZixFQUFBUyxNQUFBVCxFQUFBRSxTQUNBRixDQUNBLENDMUJBLE1BQUFnQixnQkFBQXBGLFlBQ0FwTixjQUNBeVMsUUFFQXBTLEtBQUFxUyxNQUFBclMsS0FFQSxNQUFBOE8sRUFBQTlPLEtBRUFzUyxFQUFBLENBRUE5VSxVQUFBLEVBQ0F3UCxVQUFBLEVBQ0F6UCxNQUFBLEVBQ0FnUyxNQUFBLEVBQ0F6TixNQUFBLE9BQ0FHLE9BQUEsT0FDQXNRLE9BQUEsR0FDQUMsUUFBQSxPQUNBalUsSUFBQSxHQUVBa1UsR0FBQSxPQUNBekQsUUFBQSxHQUNBbUIsWUFBQSxFQUNBN04sSUFBQSxHQUNBb1EsT0FBQSxFQUNBQyxTQUFBLE9BQ0FDLE1BQUEsQ0FBQSxHQUFBLEdBQ0FDLE9BQUEsUUFFQWhULEVBQUEsQ0FBQSxFQUNBLElBQUEsSUFBQW9PLEtBQUFxRSxFQUNBelMsRUFBQW9PLEdBQUFqTyxLQUFBOFMsYUFBQTdFLElBQUFqTyxLQUFBK1MsYUFBQTlFLElBQUFxRSxFQUFBckUsR0FFQXBPLEVBQUFXLFFBQUEsU0FBQVUsR0FDQTROLEVBQUF0TyxTQUNBc08sRUFBQXRPLFFBQUFVLEVBRUEsRUFDQXJCLEVBQUFZLE9BQUEsU0FBQVMsR0FDQTROLEVBQUFyTyxRQUNBcU8sRUFBQXJPLE9BQUFTLEVBRUEsRUFDQXJCLEVBQUFhLFNBQUEsU0FBQWxDLEdBQ0FzUSxFQUFBcE8sVUFDQW9PLEVBQUFwTyxTQUFBbEMsRUFBQTRPLEVBQUFqUCxRQUFBaVAsRUFBQUEsRUFBQWxNLE9BQUE5QyxPQUFBZ1AsRUFBQWxNLE9BQUE3QyxJQUVBLEVBRUEyQixLQUFBNlAsTUFBQW1ELFFBQUEsUUFDQWhULEtBQUFpUCxVQUFBLE9BQ0EsTUFBQTdCLEVBQUEsSUFBQVgsVUFBQTVNLEVBQUF0QixJQUFBeUIsS0FBQUgsRUFDQSxDQUVBb1QsV0FBQWpFLEdBQ0FoUCxLQUFBcVMsTUFBQWhSLGNBQUEsV0FBQTZSLFVBQUFsRSxDQUNBLENBRUFtRSxnQ0FDQSxNQUFBLENBQUEsUUFBQSxTQUFBLFVBQ0EsQ0FFQUMseUJBQUF0TyxFQUFBdU8sRUFBQUMsR0FDQSxZQUFBeE8sR0FDQTlFLEtBQUFpVCxXQUFBSyxFQUVBLEVBRUFsUyxTQUFBMEgsaUJBQUEsb0JBQUEsV0FDQTdJLE9BQUFzVCxlQUFBQyxPQUFBLFdBQUFyQixRQUNBIiwiZmlsZSI6Im5kanNvbi1wbGF5ZXIuaGVhZGxlc3MubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gIFRoaXMgcGxheWVyIHVzZXMgTkRKU09OIGZpbGVzIHRvIHBsYXkgaW4gc2VxdWVuY2UgYXMgYSB2aWRlb1xuICBBZGRpdGlvbmFsbHksIGl0IG1heSBjb250YWluIGluZm9ybWF0aW9uIGFib3V0IHRoZSBmcmFtZVxuICBJbnNwaXJlZCBpbiBodHRwczovL2dpdGh1Yi5jb20vbGVwZS9mcmFtZS1wbGF5ZXIvIChieSBWYWduZXIgU2FudGFuYSlcblxuICogaHR0cHM6Ly9naXRodWIuY29tL2xlcGUvbmRqc29uLXBsYXllclxuICogQGF1dGhvciBBLkxlcGVcbiAqIEBTaW5jZSAyMDIwLTA0LTE5XG4gKi9cbmNsYXNzIE5kSnNvblBsYXllciB7XG4gICAgLy8gT3B0aW9uc1xuICAgIGxvb3A7ICAgICAgIC8vZGVmYXVsdDogZmFsc2VcbiAgICBhdXRvcGxheTsgICAvL2RlZmF1bHQ6IGZhbHNlXG5cbiAgICAvLyBTdGF0dXNcbiAgICBwbGF5aW5nID0gZmFsc2U7ICAgLy8gU3RhdHVzXG4gICAgbG9hZGVkICA9IGZhbHNlOyAgIC8vIElmIGEgZnJhbWUgaGFzIGJlZW4gbG9hZGVkIG9yIG5vdFxuICAgIHN0YXJ0ZWQgPSBmYWxzZTsgLy8gSWYgdGhlIHBsYXllciBhbHJlYWR5IHN0YXJ0IHBsYXlpbmcgYXQgbGVhc3QgMSBmcmFtZVxuXG4gICAgLy8gRXZlbnRzXG4gICAgb25TdGFydDsgICAgLy8gQ2FsbGJhY2sgd2hlbiB3ZSBwcm9jZXNzZWQgZmlyc3QgaW1hZ2VcbiAgICBvbkxvYWQ7ICAgICAvLyBDYWxsYmFjayB3aGVuIGRhdGEgaXMgY29tcGxldGVkIGxvYWRpbmdcbiAgICBvblJlbmRlcjsgICAvLyBDYWxsYmFjayB0byByZXR1cm4gbWV0YWRhdGEgd2hlbiBhIGZyYW1lIGlzIHJlbmRlcmVkXG4gICAgb25QbGF5OyAgICAgLy8gQ2FsbGJhY2sgd2hlbiB3ZSBzdGFydCBwbGF5aW5nXG4gICAgb25TdG9wOyAgICAgLy8gQ2FsbGJhY2sgd2hlbiB3ZSBzdG9wIHBsYXlpbmdcbiAgICBvbkZpbmlzaDsgICAvLyBDYWxsYmFjayB3aGVuIHZpZGVvIHJlYWNoZXMgdGhlIGxhc3QgZnJhbWVcbiAgICBvbkVycm9yOyAgICAvLyBDYWxsYmFjayB3aGVuIHRoZXJlIGlzIGFuIGVycm9yIHdpdGggdGhlIHNvdXJjZVxuXG4gICAgLy8gSW50ZXJuYWwgdXNlIG1haW5seVxuICAgIHdyYXBwZXIgPSBudWxsOyAgICAgLy8gRE9NIGVsZW1lbnQgd2hpY2ggY29udGFpbnMgdGhlIDxjYW52YXM+IG5vZGVcbiAgICBjYW52YXMgPSBudWxsOyAgICAgLy8gPGNhbnZhcz4gRE9NIG9iamVjdFxuICAgIGN0eCA9IG51bGw7ICAgICAgICAvLyBjYW52YXMuY3R4IG9iamVjdFxuICAgIHRpbWVyID0gbnVsbDsgICAgICAvLyBUaW1lclNyYyB1c2VkIHRvIG1hbmFnZSBGUFNcbiAgICBzcmMgPSBcIlwiOyAgICAgICAgICAvLyBWaWRlbyBzb3VyY2UgVVJJIChOREpTT04pXG4gICAgZnJhbWUgPSAwOyAgICAgICAgIC8vIEN1cnJlbnQgZnJhbWUgYmVpbmcgcGxheWVkXG4gICAgbXVsdGlwbGllciA9IDE7ICAgIC8vIE11bHRpcGxpZXIgdG8gY29udHJvbCBzcGVlZFxuXG4gICAgLy8gUHJpdmF0ZVxuICAgIF9mcmFtZXMgPSBbXTsgICAgICAgLy8gVmlkZW8gY29udGVudCBpbmNsdWRpbmcgbWV0YWRhdGEgKGFycmF5KVxuICAgIF9yZW5kZXJJdGVtcyA9IFtdOyAgLy8gT2JqZWN0cyB0byByZW5kZXJcbiAgICBfYXNwZWN0UmF0aW8gPSAwOyAgIC8vIFRvIGJlIGNhbGN1bGF0ZWQgbGF0ZXJcblxuICAgIC8vIEdlbmVyYWwgQ29uZmlndXJhdGlvbiAoUHJpdmF0ZSlcbiAgICBfZ2VuZXJhbCAgICAgICAgPSB7XG4gICAgICAgIG51bUZyYW1lcyAgICAgICA6IDAsICAgICAvLyBOdW1iZXIgb2YgdG90YWwgZnJhbWVzIChpbiBoZWFkZXIpXG4gICAgICAgIHRvdFRpbWUgICAgICAgICA6IDAsICAgICAvLyBOdW1iZXIgb2YgdG90YWwgdGltZSAoaW4gaGVhZGVyKVxuICAgICAgICBmcmFtZUJhc2UgICAgICAgOiBcIlwiLCAgICAgLy8gQmFzZSBmb3IgYWxsIGZyYW1lcyAnZmInXG4gICAgICAgIHRodW1iQmFzZSAgICAgICA6IFwiXCIsICAgICAvLyBCYXNlIGZvciBhbGwgdGh1bWJuYWlscyAndGhiJ1xuICAgICAgICBzdGFydFRpbWVTdGFtcCAgOiAwLCAgICAgIC8vIFN0YXJ0aW5nIHRpbWUgc3RhbXBcbiAgICAgICAga2VlcEFzcGVjdFJhdGlvIDogdHJ1ZSxcbiAgICAgICAgZnJhbWVzUGVyU2VjICAgIDogMjQsXG4gICAgICAgIGZvbnRGYW1pbHkgICAgICA6IFwiXCIsXG4gICAgICAgIGZvbnRTaXplICAgICAgICA6IDIwLFxuICAgICAgICBmb250Q29sb3IgICAgICAgOiBcInllbGxvd1wiLFxuICAgICAgICB0b3RhbFRpbWUgICAgICAgOiBcIjAwOjAxOjAwXCIsXG4gICAgICAgIHNjYWxlICAgICAgICAgICA6IDEwMDAsICAvLyBOdW1iZXIgb2YgcGl4ZWxzIHRvIHVzZSBpbiBjYW52YXMgZHJhd2luZyAodXN1YWxseSBjYW52YXMgd2lkdGggd2hlbiBpdCBpcyBub3QgcmVzaXplZDogYmFja2dyb3VuZCBpbWFnZS92aWRlbyB3aWR0aClcbiAgICAgICAgekluZGV4ICAgICAgICAgIDogMCxcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGFtcGxlczpcbiAgICAgKiBuZXcgTmRKc29uUGxheWVyKFwiL3ZpZGVvcy90ZXN0Lm5kanNvblwiLFwiY2FudmFzXCIsIHsgbG9vcDogdHJ1ZSB9KVxuICAgICAqIG5ldyBOZEpzb25QbGF5ZXIoXCIvdmlkZW9zL3Rlc3QubmRqc29uXCIsIHsgbG9vcDogdHJ1ZSB9KVxuICAgICAqIG5ldyBOZEpzb25QbGF5ZXIoXCIvdmlkZW9zL3Rlc3QubmRqc29uXCIpXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3JjICAgICAubmRqc29uIGZpbGUgKHNlZSBmb3JtYXQpXG4gICAgICogQHBhcmFtIGVsZW1lbnQgOiBOb2RlLCBIVE1MIGVsZW1lbnQgKG11c3QgYmUgYSBjYW52YXMpLiBJZiBub3Qgc2V0LCBpdCB3aWxsIHVzZSAnPGNhbnZhcz4nXG4gICAgICogQHBhcmFtIG9wdGlvbnMgOiBPYmplY3QgcmVwbGFjaW5nIGRlZmF1bHQgdmFsdWVzXG4gICAgICogQHBhcmFtIGV2ZW50cyAgOiBPYmplY3QgY29udGFpbmluZyBldmVudHM6IChvbnN0YXJ0LCBvbmxvYWQsIG9ucmVuZGVyLCBvbnBsYXksIG9uc3RvcCwgb25maW5pc2gsIG9uZXJyb3IpXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc3JjLCBlbGVtZW50LCBvcHRpb25zLCBldmVudHMpIHtcbiAgICAgICAgY29uc3QgX3RoaXMgPSB0aGlzO1xuICAgICAgICBfdGhpcy5zcmMgPSBzcmM7XG4gICAgICAgIGlmICghd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBub0V2ZW50ID0gKCgpID0+IHt9KTtcbiAgICAgICAgZXZlbnRzID0gT2JqZWN0LmFzc2lnbih7fSwgZXZlbnRzKTtcbiAgICAgICAgLy8gQWRkIGV2ZW50czpcbiAgICAgICAgX3RoaXMub25TdGFydCAgICA9IGV2ZW50cy5vbnN0YXJ0ICB8fCBub0V2ZW50O1xuICAgICAgICBfdGhpcy5vbkxvYWQgICAgID0gZXZlbnRzLm9ubG9hZCAgIHx8IG5vRXZlbnQ7XG4gICAgICAgIF90aGlzLm9uUmVuZGVyICAgPSBldmVudHMub25yZW5kZXIgfHwgbm9FdmVudDtcbiAgICAgICAgX3RoaXMub25QbGF5ICAgICA9IGV2ZW50cy5vbnBsYXkgICB8fCBub0V2ZW50O1xuICAgICAgICBfdGhpcy5vblN0b3AgICAgID0gZXZlbnRzLm9uc3RvcCAgIHx8IG5vRXZlbnQ7XG4gICAgICAgIF90aGlzLm9uRmluaXNoICAgPSBldmVudHMub25maW5pc2ggfHwgbm9FdmVudDtcbiAgICAgICAgX3RoaXMub25FcnJvciAgICA9IGV2ZW50cy5vbmVycm9yICB8fCAoZSA9PiB7IGNvbnNvbGUubG9nKGUpOyB9KVxuICAgICAgICAvLyBGaXggYW5kIGNoZWNrIGFyZ3VtZW50c1xuICAgICAgICBsZXQgcGxheWVyID0gbnVsbDtcbiAgICAgICAgaWYoZWxlbWVudCBpbnN0YW5jZW9mIE5vZGUpIHtcbiAgICAgICAgICAgIHBsYXllciA9IGVsZW1lbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQgPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBlbGVtZW50O1xuICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBcImNhbnZhc1wiO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZWxlbWVudCAhPSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgXCJJbmNvcnJlY3QgcGFyYW1ldGVyIHBhc3NlZCB0byBjb25zdHJ1Y3RvciBvZiBOZEpzb25QbGF5ZXJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIExvb2sgZm9yIGNhbnZhc1xuICAgICAgICAgICAgcGxheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50IHx8IFwiY2FudmFzXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwbGF5ZXIpIHtcbiAgICAgICAgICAgIGxldCBjYW52YXNFbCA9IG51bGw7XG4gICAgICAgICAgICBpZiAocGxheWVyLnRhZ05hbWUgPT09IFwiQ0FOVkFTXCIpIHtcbiAgICAgICAgICAgICAgICBjYW52YXNFbCA9IHBsYXllcjtcbiAgICAgICAgICAgICAgICAvLyBjcmVhdGUgd3JhcHBlciBjb250YWluZXJcbiAgICAgICAgICAgICAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgcGxheWVyLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHdyYXBwZXIsIHBsYXllcik7XG4gICAgICAgICAgICAgICAgd3JhcHBlci5wcmVwZW5kKHBsYXllcik7XG4gICAgICAgICAgICAgICAgcGxheWVyID0gd3JhcHBlcjtcbiAgICAgICAgICAgIH0gZWxzZSBpZihwbGF5ZXIuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzRWwgPSBwbGF5ZXIucXVlcnlTZWxlY3RvcihcImNhbnZhc1wiKTtcbiAgICAgICAgICAgICAgICBpZighY2FudmFzRWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgXCJObyBjYW52YXMgZm91bmQgaW4gZWxlbWVudFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FudmFzRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiQ0FOVkFTXCIpO1xuICAgICAgICAgICAgICAgIHBsYXllci5wcmVwZW5kKGNhbnZhc0VsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmNhbnZhcyA9ICdPZmZzY3JlZW5DYW52YXMnIGluIHdpbmRvdyA/IGNhbnZhc0VsLnRyYW5zZmVyQ29udHJvbFRvT2Zmc2NyZWVuKCkgOiBjYW52YXNFbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IFwiQ2FudmFzIGVsZW1lbnQgd2FzIG5vdCBmb3VuZCBpbiBET006IFwiICsgZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy53cmFwcGVyID0gcGxheWVyO1xuICAgICAgICBfdGhpcy5jYW52YXMud2lkdGggID0gX3RoaXMud3JhcHBlci5wYXJlbnQoKS5jbGllbnRXaWR0aDtcbiAgICAgICAgX3RoaXMuY2FudmFzLmhlaWdodCA9IF90aGlzLndyYXBwZXIucGFyZW50KCkuY2xpZW50SGVpZ2h0O1xuICAgICAgICBfdGhpcy5fYXNwZWN0UmF0aW8gPSBfdGhpcy5jYW52YXMuaGVpZ2h0IC8gX3RoaXMuY2FudmFzLndpZHRoO1xuICAgICAgICAvLyBTZXQgY2xhc3NuYW1lIGZvciBzdHlsZVxuICAgICAgICBwbGF5ZXIuY2xhc3NMaXN0LmFkZChcIm5kanBcIik7XG5cbiAgICAgICAgLy8gU2V0IGNvbnRleHRcbiAgICAgICAgX3RoaXMuY3R4ID0gX3RoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgICAgICAvLyBPcHRpb25zOlxuICAgICAgICBfdGhpcy5mcHMgICAgICAgID0gb3B0aW9ucy5mcHMgfHwgMjQ7XG4gICAgICAgIF90aGlzLmxvb3AgICAgICAgPSBvcHRpb25zLmxvb3AgfHwgZmFsc2U7XG4gICAgICAgIF90aGlzLmF1dG9wbGF5ICAgPSBvcHRpb25zLmF1dG9wbGF5IHx8IGZhbHNlO1xuICAgICAgICBfdGhpcy5zaG93Zmlyc3QgID0gb3B0aW9ucy5zaG93Zmlyc3QgIT09IGZhbHNlO1xuICAgICAgICBfdGhpcy5wYXRoICAgICAgID0gb3B0aW9ucy5wYXRoIHx8IFwiXCI7XG4gICAgICAgIGlmKG9wdGlvbnMud2lkdGggID09PSBcImF1dG9cIikgeyBvcHRpb25zLndpZHRoICA9IDA7IH1cbiAgICAgICAgaWYob3B0aW9ucy5oZWlnaHQgPT09IFwiYXV0b1wiKSB7IG9wdGlvbnMuaGVpZ2h0ID0gMDsgfVxuXG4gICAgICAgIC8vIEluaXRpYWxpemUgdGltZXI6XG4gICAgICAgIF90aGlzLnRpbWVyID0gbmV3IFRpbWVyU3JjKDEwMDAgLyBfdGhpcy5mcHMpO1xuXG4gICAgICAgIC8vIExvYWQgdmlkZW86XG4gICAgICAgIGlmKGZhbHNlKSB7IC8vRklYTUUgX3RoaXMubGl2ZSkge1xuICAgICAgICAgICAgbmV3IFRpbWVyU3JjKDEwMDAgLyBfdGhpcy5mcHMsICgpID0+IHtcbiAgICAgICAgICAgICAgICBmZXRjaChfdGhpcy5zcmMpLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpLnRoZW4oZnJhbWUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZWxvYWQoZnJhbWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSkucGxheSgpO1xuICAgICAgICB9IGVsc2UgaWYoX3RoaXMuc3JjICYmIF90aGlzLmF1dG9wbGF5KSB7XG4gICAgICAgICAgICBfdGhpcy5sb2FkKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkluaXRpYWxpemluZyB3aXRob3V0IHNvdXJjZS4uLlwiKVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0IGZyYW1lcyBpbmZvcm1hdGlvblxuICAgICAqL1xuICAgIF9yZXNldCgpIHtcbiAgICAgICAgdGhpcy5fZnJhbWVzID0gW107XG4gICAgICAgIHRoaXMubG9hZGVkID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvYWQgYSB2aWRlbyBmaWxlIG9yIGNoYW5nZSBjdXJyZW50IHZpZGVvIGZpbGUuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIHdoZW4gZWFjaCBmcmFtZSBpcyByZWFkeVxuICAgICAqIEBwYXJhbSBuZXdTcmMgb3B0aW9uYWwgKGlmIG5vdCBzZXQgd2lsbCByZWFkIFwic3JjXCIgcGFzc2VkIGluIGNvbnN0cnVjdG9yKVxuICAgICAqL1xuICAgIGxvYWQoY2FsbGJhY2ssIG5ld1NyYykge1xuICAgICAgICBjb25zdCBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmKG5ld1NyYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnNyYyA9IG5ld1NyYztcbiAgICAgICAgICAgIHRoaXMuX3Jlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc1N0cmVhbSh1cmwsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCk7XG4gICAgICAgICAgICBjb25zdCByZWFkZXIgPSByZXNwb25zZS5ib2R5LmdldFJlYWRlcigpO1xuICAgICAgICAgICAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpOyAvLyBUbyBkZWNvZGUgdGhlIHN0cmVhbSBpbnRvIHRleHRcbiAgICAgICAgICAgIGxldCBidWZmZXIgPSAnJztcbiAgICAgICAgICAgIGxldCBkb25lID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHdoaWxlICghZG9uZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmU6IGlzRG9uZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgICAgICAgICBkb25lID0gaXNEb25lO1xuXG4gICAgICAgICAgICAgICAgLy8gRGVjb2RlIHRoZSBjdXJyZW50IGNodW5rIGFuZCBhcHBlbmQgdG8gdGhlIGJ1ZmZlclxuICAgICAgICAgICAgICAgIGJ1ZmZlciArPSBkZWNvZGVyLmRlY29kZSh2YWx1ZSwgeyBzdHJlYW06IHRydWUgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBQcm9jZXNzIGVhY2ggbGluZVxuICAgICAgICAgICAgICAgIGxldCBsaW5lRW5kSW5kZXg7XG4gICAgICAgICAgICAgICAgd2hpbGUgKChsaW5lRW5kSW5kZXggPSBidWZmZXIuaW5kZXhPZignXFxuJykpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBidWZmZXIuc2xpY2UoMCwgbGluZUVuZEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhsaW5lKTtcbiAgICAgICAgICAgICAgICAgICBidWZmZXIgPSBidWZmZXIuc2xpY2UobGluZUVuZEluZGV4ICsgMSk7IC8vIFJlbW92ZSBwcm9jZXNzZWQgbGluZSBmcm9tIGJ1ZmZlclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgaGVhZGVyID0gdHJ1ZTsgLy8gVG8gZm9yY2UgdG8gcHJvY2VzcyBmaXJzdCBmcmFtZSByaWdodCBhd2F5XG4gICAgICAgIHByb2Nlc3NTdHJlYW0odGhpcy5zcmMsIGZyYW1lID0+IHtcbiAgICAgICAgICAgIGlmKGhlYWRlciB8fCBfdGhpcy5hdXRvcGxheSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnByb2Nlc3NGcmFtZShKU09OLnBhcnNlKGZyYW1lKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgaGVhZGVyID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzLmFwcGVuZChKU09OLnBhcnNlKGZyYW1lKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXBsYWNlIGN1cnJlbnQgZnJhbWVzIHdpdGggbmV3IG9uZXNcbiAgICAgKiBAcGFyYW0gZnJhbWVzIDogY2FuIGJlIGFuIGFycmF5IG9mIG9iamVjdHMgKGpzb24pLCBhbiBvYmplY3QgKHNpbmdsZSBmcmFtZSkgb3IgYSBzdHJpbmcgKG5kanNvbilcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgOiBjYWxsYmFjayB3aGVuIGVhY2ggZnJhbWUgaXMgcmVhZHlcbiAgICAgKi9cbiAgICByZWxvYWQoZnJhbWVzLCBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGZzID0gW11cbiAgICAgICAgX3RoaXMuX3Jlc2V0KCk7XG5cbiAgICAgICAgc3dpdGNoKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgKHR5cGVvZiBmcmFtZXMgPT09ICdzdHJpbmcnKTpcbiAgICAgICAgICAgICAgICBmcyA9IGZyYW1lcy5zcGxpdCgvW1xcclxcbl0oPz0uKS8ubWFwKEpTT04ucGFyc2UpKTtcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSBBcnJheS5pc0FycmF5KGZyYW1lcyk6XG4gICAgICAgICAgICAgICAgZnMgPSBmcmFtZXNcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAoZnJhbWVzLmNvbnN0cnVjdG9yLm5hbWUgPT09IFwiT2JqZWN0XCIpOlxuICAgICAgICAgICAgICAgIGZzLnB1c2goZnJhbWVzKVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVW5hYmxlIHRvIHJlbG9hZCBmcmFtZXMuIFwiKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgZnMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgIF90aGlzLnByb2Nlc3NGcmFtZShpdGVtKTtcbiAgICAgICAgICAgIGlmKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgZnJhbWUgYXQgdGhlIGVuZFxuICAgICAqL1xuICAgIGFwcGVuZChmcmFtZSkge1xuICAgICAgICBjb25zdCBfdGhpcyA9IHRoaXM7XG4gICAgICAgIF90aGlzLl9mcmFtZXMucHVzaChmcmFtZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBmcmFtZSBhdCB0aGUgYmVnaW5uaW5nXG4gICAgICovXG4gICAgcHJlcGVuZChmcmFtZSkge1xuICAgICAgICBjb25zdCBfdGhpcyA9IHRoaXM7XG4gICAgICAgIF90aGlzLl9mcmFtZXMudW5zaGlmdChmcmFtZSk7XG4gICAgICAgIF90aGlzLmZyYW1lICsrOyAvL1RPRE86IHRlc3RcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBhIGZyYW1lXG4gICAgICovXG4gICAgLy9GSVhNRTogd2hlbiBzcGVjaWZ5aW5nIHdpZHRoIGFuZCBoZWlnaHQsIHRoZSBjYW52YXMgaXMgZmxpY2tlcmluZyBkdWUgdG8gcmVzaXppbmcuXG4gICAgcHJvY2Vzc0ZyYW1lKGl0ZW0sIHF1ZXVlKSB7XG4gICAgICAgIGNvbnN0IF90aGlzID0gdGhpcztcbiAgICAgICAgY29uc3QgY2FudmFzID0gX3RoaXMuY2FudmFzO1xuICAgICAgICBjb25zdCBjdHggPSBfdGhpcy5jdHg7XG4gICAgICAgIHN3aXRjaChpdGVtLmkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJnXCI6IC8vIEdlbmVyYWwgQ29uZmlnXG4gICAgICAgICAgICAgICAgaWYoaXRlbS5scCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmxvb3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZihpdGVtLncgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jYW52YXMud2lkdGggID0gaXRlbS53O1xuICAgICAgICAgICAgICAgICAgICBpZihpdGVtLnNjID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2dlbmVyYWwuc2NhbGUgPSBpdGVtLnc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2FzcGVjdFJhdGlvID0gX3RoaXMuY2FudmFzLmhlaWdodCAvIF90aGlzLmNhbnZhcy53aWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYoaXRlbS5oICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY2FudmFzLmhlaWdodCA9IGl0ZW0uaDtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2FzcGVjdFJhdGlvID0gX3RoaXMuY2FudmFzLmhlaWdodCAvIF90aGlzLmNhbnZhcy53aWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYoaXRlbS5rYXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZ2VuZXJhbC5rZWVwQXNwZWN0UmF0aW8gPSBpdGVtLmthcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYoaXRlbS5zYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9nZW5lcmFsLnNjYWxlID0gaXRlbS5zYztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYoaXRlbS5mcHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZ2VuZXJhbC5mcmFtZXNQZXJTZWMgPSBpdGVtLmZwcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYoaXRlbS5mYiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9nZW5lcmFsLmZyYW1lQmFzZSA9IGl0ZW0uZmI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKGl0ZW0udGhiICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2dlbmVyYWwudGh1bWJCYXNlID0gaXRlbS50aGI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKGl0ZW0udGYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZ2VuZXJhbC5udW1GcmFtZXMgPSBpdGVtLnRmO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZihpdGVtLnR0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2dlbmVyYWwudG90VGltZSA9IGl0ZW0udHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKGl0ZW0udHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZighX3RoaXMuX2dlbmVyYWwuc3RhcnRUaW1lU3RhbXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9nZW5lcmFsLnN0YXJ0VGltZVN0YW1wID0gaXRlbS50cztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZihpdGVtLmZzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2dlbmVyYWwuZm9udFNpemUgPSBpdGVtLmZzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZihpdGVtLmZjICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2dlbmVyYWwuZm9udENvbG9yID0gaXRlbS5mYztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYoaXRlbS5mZiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9nZW5lcmFsLmZvbnRGYW1pbHkgPSBpdGVtLmZmO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSBcImNcIjogLy8gQ2lyY2xlXG4gICAgICAgICAgICAgICAgaWYoaXRlbS5mICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNpcmNsZSBvYmplY3QgZGlkbid0IHNwZWNpZnkgd2hhdD86IFwiICsgaXRlbSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgXCJxXCI6IC8vIFNxdWFyZVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlIFwidFwiOiAvLyBUZXh0XG4gICAgICAgICAgICAgICAgaWYoaXRlbS5mICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3cgPSBjYW52YXMud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gY3cgLyAoaXRlbS5zYyB8fF90aGlzLl9nZW5lcmFsLnNjYWxlKTtcblxuICAgICAgICAgICAgICAgICAgICBjdHguZm9udCA9ICgoaXRlbS5mcyB8fCBfdGhpcy5fZ2VuZXJhbC5mb250U2l6ZSkgKiBzY2FsZSkgKyBcInB4IFwiICsgKGl0ZW0uZmYgfHwgX3RoaXMuX2dlbmVyYWwuZm9udEZhbWlseSk7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBpdGVtLmZjIHx8IF90aGlzLl9nZW5lcmFsLmZvbnRDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxUZXh0KGl0ZW0uZiwgaXRlbS54ICogc2NhbGUgfHwgMCwgaXRlbS55ICogc2NhbGUgfHwgMCk7XG4gICAgICAgICAgICAgICAgICAgIGlmKHF1ZXVlICYmIF90aGlzLl9yZW5kZXJJdGVtcy5pbmRleE9mKGl0ZW0uZikgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9yZW5kZXJJdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJUZXh0IG9iamVjdCBkaWRuJ3Qgc3BlY2lmeSBjb250ZW50OiBcIiArIGl0ZW0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlIFwicFwiOiAvLyBQaWN0dXJlXG4gICAgICAgICAgICAgICAgaWYoaXRlbS5mICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9wTGVmdCA9ICEhIGl0ZW0udGw7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZsaXBIb3JpeiA9ICEhIGl0ZW0uZmg7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZsaXBWZXJ0ICA9ICEhIGl0ZW0uZnY7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN3ID0gY2FudmFzLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgaW1nLnNyYyA9IGl0ZW0uZjtcbiAgICAgICAgICAgICAgICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHJvdGF0ZUltYWdlKGltYWdlLCBhbmdsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzY2FsZSA9IGN3IC8gKGl0ZW0uc2MgfHxfdGhpcy5fZ2VuZXJhbC5zY2FsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltZ1dpZHRoID0gKGl0ZW0udyAqIDEgfHwgaW1hZ2Uud2lkdGgpICogc2NhbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltZ0hlaWdodCA9IChpdGVtLmggKiAxIHx8IGltYWdlLmhlaWdodCkgKiBzY2FsZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoYWxmV2lkdGggPSBNYXRoLnJvdW5kKGltZ1dpZHRoIC8gMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhbGZIZWlnaHQgPSBNYXRoLnJvdW5kKGltZ0hlaWdodCAvIDIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNjcmVlbkNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzY3JlZW5DdHggPSBvZmZzY3JlZW5DYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIG1heCBmcm9tIHdpZHRoIG9yIGhlaWdodCB0byBiZSBzdXJlIGl0IGlzIGEgc3F1YXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heFNpemUgPSBNYXRoLm1heChpbWdXaWR0aCwgaW1nSGVpZ2h0KSAqIDEuNDU7IC8vIFdlIG5lZWQgdG8gYmUgc3VyZSB0aGF0IHdoZW4gcm90YXRpbmcsIGVkZ2VzIGFyZSBub3QgY3V0ICg0NSUgbW9yZSBzcGFjZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFyZ2luWCA9IE1hdGgucm91bmQoKG1heFNpemUgLSBpbWdXaWR0aCkgLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFyZ2luWSA9IE1hdGgucm91bmQoKG1heFNpemUgLSBpbWdIZWlnaHQpIC8gMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNjcmVlbkNhbnZhcy53aWR0aCA9IG1heFNpemU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNjcmVlbkNhbnZhcy5oZWlnaHQgPSBtYXhTaXplO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlQ2VudGVyID0gTWF0aC5yb3VuZChtYXhTaXplIC8gMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFuZ2xlSW5SYWRpYW5zID0gYW5nbGUgKiBNYXRoLlBJIC8gMTgwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvciBkZWJ1Z2dpbmc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vb2Zmc2NyZWVuQ3R4LmZpbGxTdHlsZSA9IFwiYmx1ZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAvL29mZnNjcmVlbkN0eC5maWxsUmVjdCgwLCAwLCBtYXhTaXplLCBtYXhTaXplKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzY3JlZW5DdHgudHJhbnNsYXRlKGltYWdlQ2VudGVyLCBpbWFnZUNlbnRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNjcmVlbkN0eC5yb3RhdGUoYW5nbGVJblJhZGlhbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZihmbGlwSG9yaXopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzY3JlZW5DdHguc2NhbGUoLTEsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGZsaXBWZXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2NyZWVuQ3R4LnNjYWxlKDEsIC0xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzY3JlZW5DdHguZHJhd0ltYWdlKGltYWdlLCAtIGhhbGZXaWR0aCwgLSBoYWxmSGVpZ2h0LCBpbWdXaWR0aCwgaW1nSGVpZ2h0KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRYID0gKGl0ZW0ueCAqIHNjYWxlKSAtICh0b3BMZWZ0ID8gbWFyZ2luWCA6IGltYWdlQ2VudGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0WSA9IChpdGVtLnkgKiBzY2FsZSkgLSAodG9wTGVmdCA/IG1hcmdpblkgOiBpbWFnZUNlbnRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2Uob2Zmc2NyZWVuQ2FudmFzLCB0YXJnZXRYLCB0YXJnZXRZLCBtYXhTaXplLCBtYXhTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW0uYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZUltYWdlKGltZywgaXRlbS5hICogMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCBpdGVtLnggKiAxLCBpdGVtLnkgKiAxLCBpdGVtLncgKiAxLCBpdGVtLmggKiAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHF1ZXVlICYmIF90aGlzLl9yZW5kZXJJdGVtcy5pbmRleE9mKGl0ZW0uZikgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcmVuZGVySXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUGljdHVyZSBvYmplY3QgZGlkbid0IHNwZWNpZnkgc291cmNlOiBcIiArIGl0ZW0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlIFwiZlwiOiAvLyBGcmFtZSBUT0RPOiByZXZpZXdcbiAgICAgICAgICAgICAgICBpZihpdGVtLmYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZnJhbWVzLnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEF1dG9QbGF5OlxuICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmxvYWRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5hdXRvcGxheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBsYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMuc2hvd2ZpcnN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3RlcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQaWN0dXJlIG9iamVjdCBkaWRuJ3Qgc3BlY2lmeSBzb3VyY2U6IFwiICsgaXRlbSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgXCJ2XCI6IC8vIFZpZGVvXG4gICAgICAgICAgICAgICAgaWYoaXRlbS5mICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmlkZW9FbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZpZGVvU291cmNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmKGl0ZW0udyAhPT0gdW5kZWZpbmVkKSB7ICB2aWRlb0VsLndpZHRoID0gaXRlbS53ICogMTsgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbS5oICE9PSB1bmRlZmluZWQpIHsgdmlkZW9FbC5oZWlnaHQgPSBpdGVtLmggKiAxOyAgfVxuICAgICAgICAgICAgICAgICAgICB2aWRlb0VsLm11dGVkID0gdHJ1ZTsgLy9UT0RPPyAvL2l0ZW0udmFcbiAgICAgICAgICAgICAgICAgICAgdmlkZW9FbC5hcHBlbmRDaGlsZCh2aWRlb1NvdXJjZSk7XG4gICAgICAgICAgICAgICAgICAgIHZpZGVvU291cmNlLnNyYyA9IGl0ZW0uZjtcbiAgICAgICAgICAgICAgICAgICAgdmlkZW9FbC5hZGRFdmVudExpc3RlbmVyKCdwbGF5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZpZCA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgIGxldCBtaWxsaXMgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtaWxsaXNQZXJGcmFtZSA9IDEwMDAgLyBfdGhpcy5fZ2VuZXJhbC5mcmFtZXNQZXJTZWM7XG4gICAgICAgICAgICAgICAgICAgICAgIChmdW5jdGlvbiBsb29wKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdmlkLnBhdXNlZCAmJiAhdmlkLmVuZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWlsbGlzICs9IG1pbGxpc1BlckZyYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhSYXRpbyA9IGNhbnZhcy53aWR0aCAgLyB2aWQudmlkZW9XaWR0aCAgICA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdlJhdGlvID0gY2FudmFzLmhlaWdodCAvIHZpZC52aWRlb0hlaWdodCAgO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhdGlvICA9IE1hdGgubWluICggaFJhdGlvLCB2UmF0aW8gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXJTaGlmdF94ID0gKCBjYW52YXMud2lkdGggLSB2aWQudmlkZW9XaWR0aCpyYXRpbyApIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXJTaGlmdF95ID0gKCBjYW52YXMuaGVpZ2h0IC0gdmlkLnZpZGVvSGVpZ2h0KnJhdGlvICkgLyAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKF90aGlzLl9nZW5lcmFsLmtlZXBBc3BlY3RSYXRpbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gY2FudmFzLndpZHRoICogX3RoaXMuX2FzcGVjdFJhdGlvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsMCxjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UodmlkLCAwLDAsIHZpZC52aWRlb1dpZHRoLCB2aWQudmlkZW9IZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbnRlclNoaWZ0X3gsY2VudGVyU2hpZnRfeSx2aWQudmlkZW9XaWR0aCAqIHJhdGlvLCB2aWQudmlkZW9IZWlnaHQgKiByYXRpbyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGVidWcgdGltZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5mb250ID0gXCIxNXB4IEFyaWFsXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxUZXh0KE1hdGgucm91bmQobWlsbGlzKSwgNTAsIDUwKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IGNhbGwgY2FsbGJhY2sgaGVyZSBmb3IgcmVuZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoX3RoaXMuX3JlbmRlckl0ZW1zLmxlbmd0aCkgeyAvL0ZJWE1FOiB0ZW1wb3JhbGx5IHRlc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3JlbmRlckl0ZW1zLmZvckVhY2goaXRtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0bS50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gX3RoaXMuX3RpbWVUb01pbGxpU2Vjb25kcyhpdG0udCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RvcFRpbWUgPSBpdG0udHQgPyBzdGFydFRpbWUgKyBfdGhpcy5fdGltZVRvTWlsbGlTZWNvbmRzKGl0bS50dCkgOiBfdGhpcy5fZ2VuZXJhbC50b3RUaW1lIHx8IDk5OTk5OTk5OTk5OTk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYobWlsbGlzID49IHN0YXJ0VGltZSAmJiBtaWxsaXMgPD0gc3RvcFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucHJvY2Vzc0ZyYW1lKGl0bSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucHJvY2Vzc0ZyYW1lKGl0bSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChsb29wLCBtaWxsaXNQZXJGcmFtZSk7IC8vIGRyYXdpbmcgYXQgMjRmcHNcbiAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgIH0pKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgICAgICB2aWRlb0VsLnBsYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoX3RoaXMubG9vcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW9FbC5vbmVuZGVkID0gKCkgPT4gdmlkZW9FbC5wbGF5KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlZpZGVvIG9iamVjdCBkaWRuJ3Qgc3BlY2lmeSBzb3VyY2U6IFwiICsgaXRlbSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgXCJhXCI6IC8vIEF1ZGlvXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgXCJkXCI6IC8vIEN1c3RvbSBkYXRhXG4gICAgICAgICAgICAgICAgX3RoaXMub25SZW5kZXIoaXRlbSk7XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICAvL0ZJWE1FPzpcbiAgICAgICAgLypcbiAgICAgICAgaWYoaXRlbS5mcHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgX3RoaXMuZnBzPSBpdGVtLmZwcztcbiAgICAgICAgICAgIF90aGlzLnRpbWVyID0gbmV3IFRpbWVyU3JjKDEwMDAgLyBfdGhpcy5mcHMpO1xuICAgICAgICB9Ki9cbiAgICAgICAgaWYoIV90aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIF90aGlzLm9uU3RhcnQoX3RoaXMpO1xuICAgICAgICAgICAgX3RoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVuZGVyIHZpZGVvXG4gICAgICogQHBhcmFtIG9uY2Ugc2luZ2xlIHN0ZXBcbiAgICAgKi9cbiAgICBfcmVuZGVyKG9uY2UpIHtcbiAgICAgICAgaWYgKHRoaXMudGltZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgXCJUaW1lclNyYyB3YXMgbm90IGluaXRpYWxpemVkXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5fZnJhbWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgXCJWaWRlbyBpcyBlbXB0eSBvciBubyBmcmFtZXMgd2VyZSBmb3VuZFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYodGhpcy5mcmFtZSA+PSB0aGlzLl9mcmFtZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgdGhpcy5mcmFtZSA9IHRoaXMubG9vcCA/IDAgOiB0aGlzLl9mcmFtZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLmZyYW1lIDwgMCkge1xuICAgICAgICAgICAgdGhpcy5mcmFtZSA9IHRoaXMubG9vcCA/IHRoaXMuX2ZyYW1lcy5sZW5ndGggLSAxOiAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2Rpc3BsYXlJbWcob25jZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzcGxheSBuZXh0IGltYWdlXG4gICAgICogQHBhcmFtIG9uY2Ugc2luZ2xlIHN0ZXBcbiAgICAgKi9cbiAgICBfZGlzcGxheUltZyhvbmNlKSB7XG4gICAgICAgIGNvbnN0IF90aGlzID0gdGhpcztcbiAgICAgICAgbGV0IGl0ZW0gPSBfdGhpcy5fZnJhbWVzW190aGlzLmZyYW1lXTtcbiAgICAgICAgaWYoaXRlbSkge1xuICAgICAgICAgICAgY29uc3QgbmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLm9uUmVuZGVyKGl0ZW0pO1xuICAgICAgICAgICAgICAgIF90aGlzLnRpbWVyLmNhbGwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5faW5jcmVtZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb25jZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9EbyBub3QgZXhlY3V0ZSBhbnl0aGluZyB1bnRpbCBpdHMgbG9hZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy50aW1lci5ub2NhbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZGlzcGxheUltZygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoaXRlbS5mICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmcmFtZSA9IF90aGlzLl9nZW5lcmFsLmZyYW1lQmFzZSArIGl0ZW0uZjtcbiAgICAgICAgICAgICAgICBfdGhpcy5faW1hZ2UoZnJhbWUsIG5leHQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbmNyZW1lbnQgZnJhbWVcbiAgICAgKi9cbiAgICBfaW5jcmVtZW50KCkge1xuICAgICAgICB0aGlzLmZyYW1lICs9ICh0aGlzLm11bHRpcGxpZXIgKiAxKTtcbiAgICAgICAgaWYodGhpcy5mcmFtZSA8IDApIHtcbiAgICAgICAgICAgIGlmKHRoaXMubG9vcCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZnJhbWUgPSB0aGlzLl9mcmFtZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mcmFtZSA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXVzZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMub25GaW5pc2godGhpcyk7IC8vQmFja3dhcmRzIHBsYXlpbmdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLmZyYW1lID4gdGhpcy50b3RhbEZyYW1lcygpIC0gMSkge1xuICAgICAgICAgICAgaWYodGhpcy5sb29wKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mcmFtZSA9IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZnJhbWUgPSB0aGlzLl9mcmFtZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkZpbmlzaCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXdzIGFuIGltYWdlIG9iamVjdFxuICAgICAqIEBwYXJhbSBpbWdcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgc2VuZHMgXCJ0cnVlXCIgb24gc3VjY2Vzc1xuICAgICAqIEByZXR1cm4gdGhpc1xuICAgICAqL1xuICAgIF9kcmF3ID0gZnVuY3Rpb24oaW1nLCBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vLyBzZXQgc2l6ZSBwcm9wb3J0aW9uYWwgdG8gaW1hZ2VcbiAgICAgICAgaWYoaW1nLndpZHRoID09PSAwICYmIGltZy5oZWlnaHQgPT09IDApIHtcbiAgICAgICAgICAgIGltZy5vbmVycm9yKCk7XG4gICAgICAgICAgICBpZihjYWxsYmFjayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCBfdGhpcy5jYW52YXMud2lkdGgsIF90aGlzLmNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgICAgX3RoaXMuY3R4LmRyYXdJbWFnZShpbWcsIDAsIDAsIGltZy53aWR0aCwgaW1nLmhlaWdodCwgMCwgMCwgX3RoaXMuY2FudmFzLndpZHRoLCBfdGhpcy5jYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgIGlmKGNhbGxiYWNrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9hZCBhbiBpbWFnZSBpbnRvIGNhbnZhcy5cbiAgICAgKiBAcGFyYW0gaW1hZ2UgcGF0aCBvciB1cmwgb2YgaW1hZ2VcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgcmV0dXJucyBpbWcgb2JqZWN0XG4gICAgICogQHJldHVybiB0aGlzXG4gICAgICovXG4gICAgX2ltYWdlID0gZnVuY3Rpb24oaW1hZ2UsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IF90aGlzID0gdGhpcztcbiAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltZy5jcm9zc09yaWdpbiA9ICcnO1xuICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIF90aGlzLl9kcmF3KGltZyxmdW5jdGlvbihkcmF3bil7XG4gICAgICAgICAgICAgICAgaWYoZHJhd24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoY2FsbGJhY2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soaW1nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBpbWcub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY29uc3QgZXJyID0gX3RoaXMub25FcnJvcigpO1xuICAgICAgICAgICAgaWYoZXJyKSB7XG4gICAgICAgICAgICAgICAgaW1nLnNyYyA9IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaW1nLnNyYyA9IGltYWdlWzBdID09PSBcIi9cIiB8fCBpbWFnZS5tYXRjaCgvXmh0dHBzPzovKSB8fCBpbWFnZS5tYXRjaCgvXmRhdGE6aW1hZ2UvKSA/IGltYWdlIDogX3RoaXMucGF0aCArIGltYWdlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgMDA6MDA6MDAuMDAwIHRpbWUgdG8gc2Vjb25kc1xuICAgICAqIENvbnZlcnQgdGltZSB0byBtaWxsaXNlY29uZHMgKGhhbmRsZXMgaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMsIGFuZCBvcHRpb25hbCBtaWxsaXNlY29uZHMpXG4gICAgICovXG4gICAgX3RpbWVUb01pbGxpU2Vjb25kcyh0aW1lKSB7XG4gICAgICAgIGxldCBtaWxsaXMgPSAwXG4gICAgICAgIGlmKHRpbWUuaW5kZXhPZihcIi5cIikgIT09IC0xKSB7XG4gICAgICAgICAgICBtaWxsaXMgPSB0aW1lLnNwbGl0KFwiLlwiKVsxXSAqIDE7XG4gICAgICAgICAgICB0aW1lID0gdGltZS5zcGxpdChcIi5cIilbMF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgodGltZS5pbmRleE9mKFwiOlwiKSAhPT0gLTEgPyB0aW1lLnNwbGl0KCc6JykucmVkdWNlKChhY2MsIHZhbCwgaWR4KSA9PiBhY2MgKyB2YWwgKiBNYXRoLnBvdyg2MCwgMiAtIGlkeCksIDApIDogMCkgKiAxMDAwKSArIG1pbGxpcztcbiAgICB9XG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBQVUJMSUMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIC8qKlxuICAgICAqIEdldCBmcmFtZSBiYXNlXG4gICAgICovXG4gICAgZnJhbWVCYXNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2VuZXJhbC5mcmFtZUJhc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aHVtYiBmcmFtZSBiYXNlXG4gICAgICovXG4gICAgdGh1bWJCYXNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2VuZXJhbC50aHVtYkJhc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4cG9zZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY3VycmVudCBmcmFtZVxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjdXJyZW50RnJhbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZyYW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiBudW1iZXIgb2YgZnJhbWVzXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRvdGFsRnJhbWVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbnVtRnJhbWVzIHx8IHRoaXMuX2ZyYW1lcy5sZW5ndGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRvdGFsIHRpbWUgb2YgdmlkZW9cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdG90YWxUaW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdG90VGltZSB8fCB0aGlzLmN1cnJlbnRGcmFtZSgpIC8gdGhpcy5mcHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgZnJhbWUgaW4gcG9zaXRpb25cbiAgICAgKiBAcGFyYW0gaW5kZXggOiBwb3NpdGlvblxuICAgICAqL1xuICAgIGZyYW1lQXQoaW5kZXgpIHtcbiAgICAgICAgY29uc3QgX3RoaXMgPSB0aGlzO1xuICAgICAgICBsZXQgZnJhbWUgPSAoaW5kZXggPCB0aGlzLnRvdGFsRnJhbWVzKCkpID8gX3RoaXMuX2ZyYW1lc1tpbmRleF0gOiBudWxsO1xuICAgICAgICBpZihmcmFtZSkge1xuICAgICAgICAgICAgZnJhbWUuZmIgPSBfdGhpcy5fZ2VuZXJhbC5mcmFtZUJhc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZyYW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiBpbmRleCBudW1iZXIgYXQgcGVyY2VudGFnZSBvZiB2aWRlb1xuICAgICAqIEBwYXJhbSBwZXJjZW50YWdlXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICBpbmRleEF0KHBlcmNlbnRhZ2UpIHtcbiAgICAgICAgY29uc3QgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gfn4oKHBlcmNlbnRhZ2UgKiBfdGhpcy50b3RhbEZyYW1lcygpKSAvIDEwMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHBsYXllciBOb2RlXG4gICAgICogQHJldHVybnMgRE9NIG5vZGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHBsYXllck5vZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGxheSB2aWRlbyBpbiBjdXJyZW50IGRpcmVjdGlvblxuICAgICAqIEBwYXJhbSBzdGFydEZyYW1lXG4gICAgICovXG4gICAgcGxheShzdGFydEZyYW1lKSB7XG4gICAgICAgIGlmIChzdGFydEZyYW1lIDwgMCkge1xuICAgICAgICAgICAgc3RhcnRGcmFtZSA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhcnRGcmFtZSA+IHRoaXMuX2ZyYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHN0YXJ0RnJhbWUgPSB0aGlzLl9mcmFtZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChzdGFydEZyYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZnJhbWUgPSBzdGFydEZyYW1lICogMTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBsYXlpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLnRpbWVyLnBsYXkoKTtcbiAgICAgICAgdGhpcy5fcmVuZGVyKGZhbHNlKTtcbiAgICAgICAgdGhpcy5vblBsYXkodGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGxheSB2aWRlbyBpbiBmb3J3YXJkIGRpcmVjdGlvblxuICAgICAqICh1c2VkIG1haW5seSB0byBjaGFuZ2UgZGlyZWN0aW9uKVxuICAgICAqIEBwYXJhbSBzdGFydEZyYW1lXG4gICAgICovXG4gICAgcGxheUZvcndhcmQoc3RhcnRGcmFtZSkge1xuICAgICAgICB0aGlzLnBsYXkoc3RhcnRGcmFtZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGF1c2UgdGhlIHZpZGVvXG4gICAgICovXG4gICAgcGF1c2UoKSB7XG4gICAgICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRpbWVyLnBhdXNlKCk7XG4gICAgICAgIHRoaXMub25TdG9wKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0b3AgdGhlIHZpZGVvIChhbmQgZ28gYmFjayB0byB0aGUgYmVnaW5uaW5nKVxuICAgICAqL1xuICAgIHN0b3AoKSB7XG4gICAgICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZyYW1lID0gMDtcbiAgICAgICAgdGhpcy50aW1lci5wYXVzZSgpO1xuICAgICAgICB0aGlzLl9kaXNwbGF5SW1nKHRydWUpO1xuICAgICAgICB0aGlzLm9uU3RvcCh0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNb3ZlIHRoZSB2aWRlbyBvbmUgZnJhbWUgaW4gdGhlIGN1cnJlbnQgZGlyZWN0aW9uXG4gICAgICovXG4gICAgc3RlcCgpIHtcbiAgICAgICAgdGhpcy5vblBsYXkodGhpcyk7XG4gICAgICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRpbWVyLnN0ZXAoKTtcbiAgICAgICAgdGhpcy5fcmVuZGVyKHRydWUpO1xuICAgICAgICB0aGlzLm9uU3RvcCh0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBKdW1wIHRvIGZyYW1lXG4gICAgICovXG4gICAganVtcFRvKHN0YXJ0RnJhbWUpIHtcbiAgICAgICAgaWYgKHN0YXJ0RnJhbWUgPCAwKSB7XG4gICAgICAgICAgICBzdGFydEZyYW1lID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChzdGFydEZyYW1lID4gdGhpcy5fZnJhbWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgc3RhcnRGcmFtZSA9IHRoaXMuX2ZyYW1lcy5sZW5ndGggLSAxO1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXJ0RnJhbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5mcmFtZSA9IHN0YXJ0RnJhbWUgKiAxO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JlbmRlcih0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNb3ZlIG9uZSBmcmFtZSBmb3J3YXJkcyAoYW5kIGNoYW5nZSBkaXJlY3Rpb24pXG4gICAgICovXG4gICAgc3RlcEZvcndhcmRzKCkge1xuICAgICAgICB0aGlzLnN0ZXAoKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoaXMgb2JqZWN0XG4gICAgICogQHJldHVybnMge05kSnNvblBsYXllcn1cbiAgICAgKi9cbiAgICByZXNldCgpIHtcbiAgICAgICAgaWYgKHRoaXMuY3R4LnJlc2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY3R4LnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLmN0eC5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgICAgICAvL1Jlc2V0IGFsbDogVGhlIGZvbGxvd2luZyBsaW5lIGlzIGEgXCJoYWNrXCIgdG8gZm9yY2UgaXQgdG8gcmVzZXQ6XG4gICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHRoaXMuY2FudmFzLndpZHRoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbiIsIi8qKlxuICogVGhpcyBjbGFzcyBjcmVhdGVzIHRoZSBwbGF5ZXIgVUlcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9sZXBlL25kanNvbi1wbGF5ZXJcbiAqIEBhdXRob3IgQS5MZXBlXG4gKiBAc2luY2UgMDQvMjAyMFxuICovXG5jbGFzcyBOREpQbGF5ZXIge1xuICAgIHBsYXllcjsgICAgLy9OZEpzb25QbGF5ZXIgb2JqZWN0XG4gICAgb3B0aW9uczsgICAvL09wdGlvbnMgZm9yIHRoZSBVSVxuICAgIHVpOyAgICAgICAgLy9UaGUgVUlcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgTkRKUGxheWVyXG4gICAgICogQHBhcmFtIHNyYyA6IHN0cmluZyAoVVJMIG9mIE5ESlNPTiBmaWxlIG9yIHN0cmVhbSkgKG9wdGlvbmFsKVxuICAgICAqIEBwYXJhbSBlbGVtZW50IDogRE9NIHNlbGVjdG9yIG9yIEhUTUxFbGVtZW50IHdoZXJlIHRvIHBsYWNlIE5ESlBsYXllciAob3B0aW9uYWwpXG4gICAgICogQHBhcmFtIG9wdGlvbnMgOiBPYmplY3QgKG9wdGlvbmFsKVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHNyYywgZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGZ1bmN0aW9uIGlzTWVkaWEoc3RyKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyLmluZGV4T2YoXCIuXCIpID4gMCB8fCBzdHIuaW5kZXhPZihcIi9cIikgIT09IC0xO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGlzU2VsZWN0b3Ioc3RyKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyWzBdID09PSBcIi5cIiB8fCBzdHJbMF0gPT09IFwiI1wiIHx8IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc3RyKSAhPT0gbnVsbFxuICAgICAgICB9XG4gICAgICAgIHN3aXRjaChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgaWYoYXJndW1lbnRzWzFdLmNvbnN0cnVjdG9yLm5hbWUgPT09IFwiT2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgICAgICAgICAgICAgaWYoaXNNZWRpYShhcmd1bWVudHNbMF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKGFyZ3VtZW50c1swXSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50IHx8IGlzU2VsZWN0b3IoYXJndW1lbnRzWzBdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyYyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBzd2l0Y2godHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGFyZ3VtZW50c1swXS5jb25zdHJ1Y3Rvci5uYW1lID09PSBcIk9iamVjdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyYyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgaXNNZWRpYShhcmd1bWVudHNbMF0pOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3JjID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGFyZ3VtZW50c1swXSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50IHx8IGlzU2VsZWN0b3IoYXJndW1lbnRzWzBdKTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBzcmMgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVW5rbm93biBwYXJhbWV0ZXIgd2FzIHBhc3NlZCB0byBOREpQbGF5ZXIgY29uc3RydWN0b3IuXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBzcmMgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgZGVmYXVsdDogLy8gTW9yZSB0aGFuIDJcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGNvbnRyb2xzOiBmYWxzZSxcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICBjb250cm9scyA6IHsgLy9FeGFtcGxlIG9uIGhvdyB0byBzaG93L2hpZGUgZWxlbWVudHNcbiAgICAgICAgICAgICAgICBiYXNlIDogXCJmdWxsXCIsIC8vV2hpY2ggb25lIHRvIHVzZSBhcyBiYXNlXG4gICAgICAgICAgICAgICAgcGxheTogdHJ1ZSwgLy9zaG93IHBsYXkvcGF1c2VcbiAgICAgICAgICAgICAgICBzdG9wOiB0cnVlLFxuICAgICAgICAgICAgICAgIHN0ZXA6IHRydWUsXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgdGh1bWJzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGZ1bGxzY3JlZW46IHRydWUsXG4gICAgICAgICAgICAgICAgc3BlZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFwc2U6IHRydWUsXG4gICAgICAgICAgICAgICAgZnJhbWVzOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHJlc2l6ZTogdHJ1ZSwgLy9zZXQgaXQgdG8gZmFsc2UgdG8gZGlzYWJsZSBhZGp1c3RpbmcgdGhlIHNpemUgYmVmb3JlIHN0YXJ0aW5nXG4gICAgICAgICAgICBvbmFjdGlvbiA6IChhY3Rpb24sIG5kalBsYXllciwgdWlQbGF5ZXIpID0+IHt9LFxuICAgICAgICAgICAgb25wbGF5IDogKG5kalBsYXllcikgPT4ge30sXG4gICAgICAgICAgICBvbnN0b3AgOiAobmRqUGxheWVyKSA9PiB7fVxuICAgICAgICB9LCBvcHRpb25zIHx8IHt9KTtcblxuICAgICAgICAvLyBDcmVhdGUgVUlcbiAgICAgICAgdGhpcy5fY3JlYXRlKGVsZW1lbnQpO1xuICAgICAgICAvLyBJbml0aWFsaXplIHBsYXllclxuICAgICAgICB0aGlzLnBsYXllciA9IG5ldyBOZEpzb25QbGF5ZXIoc3JjLCBlbGVtZW50LCBfdGhpcy5vcHRpb25zLCB7XG4gICAgICAgICAgICBvbnN0YXJ0IDogZnVuY3Rpb24gKHBsYXllcikge1xuICAgICAgICAgICAgICAgIF90aGlzLl9hZGp1c3RTaXplKClcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMub3B0aW9ucy5vbnN0YXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub3B0aW9ucy5vbnN0YXJ0KHBsYXllcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9ubG9hZCA6IGZ1bmN0aW9uIChwbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICBpZihfdGhpcy5vcHRpb25zLm9ubG9hZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9wdGlvbnMub25sb2FkKHBsYXllcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9ucmVuZGVyIDogZnVuY3Rpb24gKGZyYW1lKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX29uVXBkYXRlKGZyYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMub3B0aW9ucy5vbnJlbmRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9wdGlvbnMub25yZW5kZXIoZnJhbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbnBsYXkgOiBmdW5jdGlvbihwbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICBpZihfdGhpcy51aS5wYW5lbCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy51aS5wbGF5LnNob3cgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYoISBfdGhpcy51aS5zdGVwLmNzcy5jb250YWlucyhcImRpc2FibGVkXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy51aS5zdGVwLnNob3cgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy51aS5wYXVzZS5zaG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMub3B0aW9ucy5vbnBsYXkocGxheWVyKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbnN0b3AgOiBmdW5jdGlvbihwbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICBpZihfdGhpcy51aS5wYW5lbCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy51aS5wbGF5LnNob3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZighIF90aGlzLnVpLnN0ZXAuY3NzLmNvbnRhaW5zKFwiZGlzYWJsZWRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnVpLnN0ZXAuc2hvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudWkucGF1c2Uuc2hvdyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5vcHRpb25zLm9uc3RvcChwbGF5ZXIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uZmluaXNoOiBmdW5jdGlvbiAocGxheWVyKSB7XG4gICAgICAgICAgICAgICAgLy9wbGF5ZXIuc3RvcCgpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25lcnJvciA6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgICAgICAgICAgLy9UT0RPOiBEaXNwbGF5IGVycm9yIGluIHBsYXllclxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gVHJpZ2dlciBvbiB3aW5kb3cgcmVzaXplOlxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIF90aGlzLl9hZGp1c3RTaXplKCk7XG4gICAgICAgIH0sIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgVUlcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vblVwZGF0ZShmcmFtZSkge1xuICAgICAgICBjb25zdCBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmKF90aGlzLnVpKSB7XG4gICAgICAgICAgICBpZihfdGhpcy51aS5mcmFtZXMpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy51aS5mcmFtZXMudGV4dCA9IChfdGhpcy5wbGF5ZXIuY3VycmVudEZyYW1lKCkgKyAxKSArIFwiL1wiICsgX3RoaXMucGxheWVyLnRvdGFsRnJhbWVzKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKF90aGlzLnVpLmxhcHNlKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRleHQgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRzID0gX3RoaXMucGxheWVyLl9zdGFydFRpbWVTdGFtcCAmJiBmcmFtZS50cyAhPT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBmcmFtZS50ICE9PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgY29uc3QgdHQgPSBfdGhpcy5wbGF5ZXIuX3RvdFRpbWUgPiAwO1xuICAgICAgICAgICAgICAgIGlmKGZyYW1lLmQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IGZyYW1lLmQgKyBcIiBcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYodHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dCArPSBfdGhpcy5fZm9ybWF0TWlsbGlzKGZyYW1lLnRzIC0gX3RoaXMucGxheWVyLl9zdGFydFRpbWVTdGFtcCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmKHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dCArPSBmcmFtZS50LmluZGV4T2YoXCI6XCIpID4gMCA/IGZyYW1lLnQgOiBfdGhpcy5fZm10VGltZShmcmFtZS50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYodHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dCArPSBcIi9cIiArIF90aGlzLnBsYXllci50b3RhbFRpbWUoKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy51aS5sYXBzZS50ZXh0ID0gdGV4dFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoX3RoaXMudWkucHJvZ3Jlc3MgJiYgX3RoaXMucGxheWVyLnRvdGFsRnJhbWVzKCkpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy51aS5wcm9ncmVzcy52YWx1ZSA9IE1hdGgucm91bmQoKChfdGhpcy5wbGF5ZXIuY3VycmVudEZyYW1lKCkgKyAxKSAvIChfdGhpcy5wbGF5ZXIudG90YWxGcmFtZXMoKSkpICogMTAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0IHdpbGwgYWRqdXN0IHRoZSB2aWRlbyBhbmQgY2FudmFzIHNpemVcbiAgICAgKiBAcHJpdmF0ZVxuXG4gICAgIEZJWE1FOiBhdHRyaWJ1dGVzIGluIDxjYW52YT4gc2hvdWxkIG1hdGNoIGltYWdlIVxuXG4gICAgICovXG4gICAgX2FkanVzdFNpemUoKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmVzaXplKSB7XG4gICAgICAgICAgICBsZXQgcGxheWVyID0gdGhpcy5wbGF5ZXIud3JhcHBlcjtcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSBwbGF5ZXIucGFyZW50KCk7XG4gICAgICAgICAgICBsZXQgcmF0aW9XID0gKHRoaXMub3B0aW9ucy5oZWlnaHQgfHwgdGhpcy5wbGF5ZXIuY2FudmFzLmhlaWdodCkgLyAodGhpcy5vcHRpb25zLndpZHRoIHx8IHRoaXMucGxheWVyLmNhbnZhcy53aWR0aCk7XG4gICAgICAgICAgICB0aGlzLnBsYXllci5jYW52YXMuaGVpZ2h0ID0gcGFyZW50LmNsaWVudEhlaWdodCAtICh0aGlzLm9wdGlvbnMuY29udHJvbHMgPyBwbGF5ZXIucXVlcnlTZWxlY3RvcihcIi5wYW5lbFwiKS5jbGllbnRIZWlnaHQgOiAwKTtcbiAgICAgICAgICAgIHRoaXMucGxheWVyLmNhbnZhcy53aWR0aCA9IHRoaXMucGxheWVyLmNhbnZhcy5oZWlnaHQgLyByYXRpb1c7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBVSVxuICAgICAqIEBwYXJhbSBlbGVtZW50IFNlbGVjdG9yXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY3JlYXRlKGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZihtMmQyKSB7XG4gICAgICAgICAgICBjb25zdCAkID0gbTJkMi5sb2FkKCk7XG4gICAgICAgICAgICBfdGhpcy51aSA9ICQoZWxlbWVudCwgX3RoaXMuX2dldFVJKGVsZW1lbnQpKTtcbiAgICAgICAgICAgIGlmKF90aGlzLnVpLnBhbmVsKSB7XG4gICAgICAgICAgICAgICAgW1widGh1bWJcIiwgXCJwbGF5XCIsIFwic3RlcFwiLCBcInBhdXNlXCIsIFwic3RvcFwiLCBcImxhcHNlXCIsIFwicHJvZ3Jlc3NcIiwgXCJmcmFtZXNcIiwgXCJmdWxsc2NyZWVuXCJdLmZvckVhY2goaXQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy51aVtpdF0gPSBfdGhpcy51aS5wYW5lbFtpdF07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk0yRDIgd2FzIG5vdCBmb3VuZC4gRWl0aGVyIHVzZSB0aGUgc3RhbmRhcmQgdmVyc2lvbiAod2hpY2ggaW5jbHVkZXMgTTJEMikgb3IgYWRkIE0yRDIgaW4geW91ciBkZXBlbmRlbmNpZXMuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hvb3NlIHRoZSBVSSB0byBkaXNwbGF5XG4gICAgICogQHBhcmFtIGVsZW1lbnQgU2VsZWN0b3JcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2V0VUkoZWxlbWVudCkge1xuICAgICAgICBjb25zdCBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGxldCB1aSA9IHsgaHRtbCA6IChlbGVtZW50LmlubmVySFRNTCB8fCBcIlwiKSB9OyAvLyBJZiBubyBjb250cm9scyBhcmUgc3BlY2lmaWVkXG5cbiAgICAgICAgLy8gbm9pbnNwZWN0aW9uIEZhbGxUaHJvdWdoSW5Td2l0Y2hTdGF0ZW1lbnRKU1xuICAgICAgICBpZihfdGhpcy5vcHRpb25zLmNvbnRyb2xzKSB7XG4gICAgICAgICAgICB1aSA9IHRoaXMuX2dldEJhc2ljVUkoKTtcbiAgICAgICAgICAgIC8vIE5PVEU6IHZpc2liaWxpdHkgaXMgY29udHJvbGxlZCBpbiBDU1NcbiAgICAgICAgICAgIHN3aXRjaChfdGhpcy5vcHRpb25zLmNvbnRyb2xzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImZ1bGxcIjpcbiAgICAgICAgICAgICAgICAgICAgdWkucGFuZWwuc3RlcC5jc3MucmVtb3ZlKFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcImNvbW1vblwiOlxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCJsaXZlXCI6XG5cbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLmNvbnRyb2xzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgLy9UT0RPOiB3aGF0IHRvIHNob3cgYW5kIHdoYXQgbm90IHRvIHNob3dcbiAgICAgICAgfVxuICAgICAgICBsZXQgcm9vdCA9IGVsZW1lbnQgaW5zdGFuY2VvZiBOb2RlID8gZWxlbWVudCA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbWVudCk7XG4gICAgICAgIGlmIChyb290KSB7XG4gICAgICAgICAgICBsZXQgY2FudmFzID0gcm9vdC5xdWVyeVNlbGVjdG9yKFwiY2FudmFzXCIpO1xuICAgICAgICAgICAgaWYgKCFjYW52YXMpIHtcbiAgICAgICAgICAgICAgICB1aSA9IE9iamVjdC5hc3NpZ24oeyBjYW52YXMgOiBcIlwiIH0sIHVpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUm9vdCBlbGVtZW50OiBcIiArIGVsZW1lbnQgKyBcIiB3YXMgbm90IGZvdW5kIGluIGRvY3VtZW50XCIpO1xuICAgICAgICAgICAgdWkgPSBPYmplY3QuYXNzaWduKHsgY2FudmFzIDogXCJcIiB9LCB1aSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJhc2ljIFVJXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRCYXNpY1VJKCkge1xuICAgICAgICBjb25zdCBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2Z1bGxzY3JlZW5jaGFuZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBsYXllciA9IF90aGlzLnBsYXllci53cmFwcGVyO1xuICAgICAgICAgICAgaWYgKGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgcGxheWVyLmNsYXNzTGlzdC5hZGQoXCJmdWxsc2NyZWVuXCIpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBsYXllci5jbGFzc0xpc3QucmVtb3ZlKFwiZnVsbHNjcmVlblwiKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNhcHRpb24gOiBcIlwiLFxuICAgICAgICAgICAgY3NzIDogX3RoaXMub3B0aW9ucy5jb250cm9scyxcbiAgICAgICAgICAgIHBhbmVsIDoge1xuICAgICAgICAgICAgICAgIHRhZ05hbWU6IFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lIDogXCJwYW5lbFwiLFxuICAgICAgICAgICAgICAgIHRodW1iIDogeyAvL0NyZWF0ZSBcInRodW1iXCIgaW5zaWRlIHBhbmVsXG4gICAgICAgICAgICAgICAgICAgIHRhZ05hbWUgOiBcImZpZ3VyZVwiLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUgOiBcInRodW1iXCIsXG4gICAgICAgICAgICAgICAgICAgIGltZyA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyYyA6IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY2FwdGlvbiA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ05hbWUgOiBcImZpZ0NhcHRpb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJjYXB0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIEJ1dHRvbnNcbiAgICAgICAgICAgICAgICByZWMgOiB7XG4gICAgICAgICAgICAgICAgICAgIHRhZ05hbWUgOiBcImFcIixcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lIDogXCJyZWNcIixcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiTGl2ZVwiLFxuICAgICAgICAgICAgICAgICAgICBocmVmOiBcIiNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcGxheSA6IHtcbiAgICAgICAgICAgICAgICAgICAgdGFnTmFtZSA6IFwiYVwiLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUgOiBcInBsYXlcIixcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiUGxheVwiLFxuICAgICAgICAgICAgICAgICAgICBocmVmOiBcIiNcIixcbiAgICAgICAgICAgICAgICAgICAgb25jbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudWkub25hY3Rpb24oXCJwbGF5XCIsIF90aGlzLnBsYXllciwgX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucGxheWVyLnBsYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcGF1c2UgOiB7XG4gICAgICAgICAgICAgICAgICAgIHRhZ05hbWUgOiBcImFcIixcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lIDogXCJwYXVzZVwiLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJQYXVzZVwiLFxuICAgICAgICAgICAgICAgICAgICBocmVmOiBcIiNcIixcbiAgICAgICAgICAgICAgICAgICAgb25jbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudWkub25hY3Rpb24oXCJwYXVzZVwiLCBfdGhpcy5wbGF5ZXIsIF90aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBsYXllci5wYXVzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdGVwIDoge1xuICAgICAgICAgICAgICAgICAgICB0YWdOYW1lIDogXCJhXCIsXG4gICAgICAgICAgICAgICAgICAgIGNzczogW1wic3RlcFwiLCBcImRpc2FibGVkXCJdLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJTdGVwXCIsXG4gICAgICAgICAgICAgICAgICAgIGhyZWY6IFwiI1wiLFxuICAgICAgICAgICAgICAgICAgICBvbmNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy51aS5vbmFjdGlvbihcInN0ZXBcIiwgX3RoaXMucGxheWVyLCBfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wbGF5ZXIuc3RlcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdG9wIDoge1xuICAgICAgICAgICAgICAgICAgICB0YWdOYW1lIDogXCJhXCIsXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA6IFwic3RvcFwiLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJTdG9wXCIsXG4gICAgICAgICAgICAgICAgICAgIGhyZWY6IFwiI1wiLFxuICAgICAgICAgICAgICAgICAgICBvbmNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy51aS5vbmFjdGlvbihcInN0b3BcIiwgX3RoaXMucGxheWVyLCBfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wbGF5ZXIuc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBUaW1lIExhcHNlXG4gICAgICAgICAgICAgICAgbGFwc2UgOiB7XG4gICAgICAgICAgICAgICAgICAgIHRhZ05hbWUgOiBcImxhYmVsXCIsXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA6IFwibGFwc2VcIixcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiVGltZSBlbGFwc2VkIC8gVGltZSBUb3RhbFwiLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBcIjA6MDBcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGxpdmUgOiB7XG4gICAgICAgICAgICAgICAgICAgIHRhZ05hbWUgOiBcImxhYmVsXCIsXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA6IFwibGl2ZVwiLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBcIkxpdmUgRmVlZFwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBQcm9ncmVzcyBiYXJcbiAgICAgICAgICAgICAgICBwcm9ncmVzcyA6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICAgICAgICAgIG1heDogMTAwLFxuICAgICAgICAgICAgICAgICAgICBvbm1vdXNlbW92ZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwb3NpdGlvbiA9IH5+KCgoZS5vZmZzZXRYKSAvIHRoaXMub2Zmc2V0V2lkdGgpICogMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmcmFtZSA9IF90aGlzLnBsYXllci5mcmFtZUF0KF90aGlzLnBsYXllci5pbmRleEF0KHBvc2l0aW9uKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnJhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy51aS50aHVtYi5zaG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy51aS50aHVtYi5pbWcuc3JjID0gKF90aGlzLnBsYXllci50aHVtYkJhc2UoKSB8fCBfdGhpcy5wbGF5ZXIuZnJhbWVCYXNlKCkpICsgKGZyYW1lLnRoIHx8IGZyYW1lLmYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnVpLnRodW1iLmltZy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBfdGhpcy51aS50aHVtYi5pbWcubmF0dXJhbFdpZHRoIHx8IF90aGlzLnVpLnRodW1iLmltZy53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudWkudGh1bWIuc3R5bGUud2lkdGggPSB3aWR0aCArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyYW1lLnRjICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudWkudGh1bWIuY2FwdGlvbiA9IGZyYW1lLnRjO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy51aS50aHVtYi5zdHlsZS5sZWZ0ID0gKHRoaXMub2Zmc2V0TGVmdCArIGUub2Zmc2V0WCAtIChfdGhpcy51aS50aHVtYi5jbGllbnRXaWR0aCAvIDIpKSArIFwicHhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy51aS50aHVtYi5zaG93ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9ubW91c2VsZWF2ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudWkudGh1bWIuc2hvdyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvbmNsaWNrOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBvc2l0aW9uID0gfn4oKChlLm9mZnNldFgpIC8gdGhpcy5vZmZzZXRXaWR0aCkgKiAxMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gX3RoaXMucGxheWVyLmluZGV4QXQocG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucGxheWVyLmp1bXBUbyhpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy51aS5vbmFjdGlvbihcInByb2dyZXNzXCIsIF90aGlzLnBsYXllciwgX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBGcmFtZSBjb3VudFxuICAgICAgICAgICAgICAgIGZyYW1lcyA6IHtcbiAgICAgICAgICAgICAgICAgICAgdGFnTmFtZSA6IFwibGFiZWxcIixcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lIDogXCJmcmFtZXNcIixcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiQ3VycmVudCBGcmFtZSAvIFRvdGFsIEZyYW1lc1wiLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBcIjBcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIEZ1bGxzY3JlZW4gdG9nZ2xlXG4gICAgICAgICAgICAgICAgZnVsbHNjcmVlbiA6IHtcbiAgICAgICAgICAgICAgICAgICAgdGFnTmFtZSA6IFwiYVwiLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUgOiBcImZ1bGxzY3JlZW5cIixcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiRnVsbCBTY3JlZW5cIixcbiAgICAgICAgICAgICAgICAgICAgaHJlZjogXCIjXCIsXG4gICAgICAgICAgICAgICAgICAgIG9uY2xpY2s6IGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxheWVyID0gX3RoaXMucGxheWVyLndyYXBwZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihwbGF5ZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZnVsbHNjcmVlblwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnVpLm9uYWN0aW9uKFwiZXhpdC1mdWxsc2NyZWVuXCIsIF90aGlzLnBsYXllciwgX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnVpLm9uYWN0aW9uKFwiZnVsbHNjcmVlblwiLCBfdGhpcy5wbGF5ZXIsIF90aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIucmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy9zaXplcyA6IFtcIlNEXCIsIFwiSERcIiwgXCI0S1wiXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbmFjdGlvbiA6IGZ1bmN0aW9uKGFjdGlvbiwgbmRqUGxheWVyLCB1aVBsYXllcikge1xuICAgICAgICAgICAgICAgIF90aGlzLm9wdGlvbnMub25hY3Rpb24oYWN0aW9uLCBuZGpQbGF5ZXIsIHVpUGxheWVyKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbnBsYXkgOiBmdW5jdGlvbihuZGpQbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vcHRpb25zLm9ucGxheShuZGpQbGF5ZXIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uc3RvcCA6IGZ1bmN0aW9uKG5kalBsYXllcikge1xuICAgICAgICAgICAgICAgIF90aGlzLm9wdGlvbnMub25zdG9wKG5kalBsYXllciwgdWlQbGF5ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9ybWF0IGEgdGltZSwgZm9yIGV4YW1wbGU6IDEyMC4zNCB3aWxsIGJlIGNvbnZlcnRlZCBpbnRvOiAwMjowMC4zNFxuICAgICAqIEBwYXJhbSB0aW1lIGludFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZm10VGltZSh0aW1lKSB7XG4gICAgICAgIHRpbWUgPSB0aW1lLnRvRml4ZWQoMik7XG4gICAgICAgIGxldCBkZWNpbWFsID0gdGltZS5zcGxpdChcIi5cIilbMV0gfHwgXCIwMFwiO1xuICAgICAgICByZXR1cm4gKH5+KHRpbWUgLyA2MCkgKyBcIlwiKS5wYWRTdGFydCgyLCAnMCcpICsgXCI6XCIgKyAofn4oKHRpbWUgLyA2MCkgJSAxICogNjApICsgXCJcIikucGFkU3RhcnQoMiwgJzAnKSArIFwiLlwiICsgZGVjaW1hbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRm9ybWF0IG1pbGxpc2Vjb25kcywgZm9yIGV4YW1wbGU6IDkwMDAwIHdpbGwgYmUgY29udmVydGVkIGludG86IDAwOjAxOjMwLjAwMFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2Zvcm1hdE1pbGxpcyhtaWxsaXMpIHtcbiAgICAgICAgZnVuY3Rpb24gcGFkKG51bSwgZGlnaXRzKSB7XG4gICAgICAgICAgICByZXR1cm4gKFwiMDBcIiArIG51bSkuc2xpY2UoKGRpZ2l0cyB8fCAyKSAqIC0xKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoID0gTWF0aC5mbG9vcihtaWxsaXMvMTAwMC82MC82MCk7XG4gICAgICAgIGNvbnN0IG0gPSBNYXRoLmZsb29yKChtaWxsaXMvMTAwMC82MC82MCAtIGgpKjYwKTtcbiAgICAgICAgY29uc3QgcyA9IE1hdGguZmxvb3IoKChtaWxsaXMvMTAwMC82MC82MCAtIGgpKjYwIC0gbSkqNjApO1xuICAgICAgICBjb25zdCBtcyA9IHBhcnNlSW50KChtaWxsaXMgJSAxMDAwKSAvIDEwMCk7XG4gICAgICAgIHJldHVybiBwYWQoaCkgKyBcIjpcIiArIHBhZChtKSArIFwiOlwiICsgcGFkKHMpICsgXCIuXCIgKyBwYWQobXMsIDMpO1xuICAgIH1cbn0iLCIvKipcbiAqIEBhdXRob3I6IEEuIExlcGVcbiAqIE1hbmFnZSBUaW1lcnNcbiAqIFVzYWdlOlxuICogY29uc3QgdCA9IG5ldyBUaW1lclNyYygxMDAwKTtcbiAqIHQuY2FsbChmdW5jdGlvbigpIHsgPGRvPiB9KTtcbiAqIG9yOlxuICogY29uc3QgdCA9IG5ldyBUaW1lclNyYygxMDAwLGZ1bmN0aW9uKCl7IDxkbz4gfSk7XG4gKiB0LnBhdXNlKCk7XG4gKiB0LmRlc3Ryb3koKTtcbiAqL1xuZnVuY3Rpb24gVGltZXJTcmMob3JpZ2luYWxfbXMsIGNhbGxiYWNrKSB7XG5cdGxldCBzdGFydFRpbWUsIHRpbWVyLCBvYmogPSB7fSwgYWN0aW9uLCBtcztcblx0b2JqLmludGVydmFsID0gb3JpZ2luYWxfbXM7IC8vUHVibGljLiBDYW4gYmUgdXBkYXRlZFxuXHRvYmouY2hlY2tlciA9IDUwOyAvLyBhZGp1c3QgdGhpcyBudW1iZXIgdG8gYWZmZWN0IGdyYW51bGFyaXR5XG5cdG9iai5zdGF0dXMgPSBcImluaXRcIjtcblx0bGV0IG5vd1RpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblx0c3RhcnRUaW1lID0gbm93VGltZSAtIG9yaWdpbmFsX21zOyAvL3N0YXJ0IHJpZ2h0IGF3YXlcblx0b2JqLmNhbGwgPSBmdW5jdGlvbihmdW5jKSB7XG5cdFx0Y2FsbGJhY2sgPSBmdW5jO1xuXHRcdHJldHVybiBvYmo7XG5cdH07XG5cdG9iai5ub2NhbGwgPSBmdW5jdGlvbigpIHtcblx0XHRjYWxsYmFjayA9IG51bGw7XG5cdFx0cmV0dXJuIG9iajtcblx0fTtcblx0Ly9FeGVjdXRlIHRoZSBjYWxsYmFjayBtYW51YWxseSBhbmQgcmVzZXQgdGhlIHRpbWVyXG5cdG9iai5leGVjID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYoY2FsbGJhY2spIGNhbGxiYWNrKCk7XG5cdFx0c3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cdFx0cmV0dXJuIG9iajtcblx0fTtcblx0Ly8gQ2hlY2tzIHRoZSBzdGF0dXMgb2YgdGhlIHRpbWVyXG5cdG9iai5jaGVjayA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmKGFjdGlvbikgYWN0aW9uKCk7XG5cdFx0cmV0dXJuIG9iajtcblx0fTtcbiAgICBvYmoucGxheSA9IGZ1bmN0aW9uKCkge1xuXHRcdGFjdGlvbiA9IG9iai5zdGVwO1xuXHRcdG9iai5zdGF0dXMgPSBcInJ1bm5pbmdcIjtcblx0XHRyZXR1cm4gb2JqO1xuICAgIH07XG4gICAgb2JqLnBhdXNlID0gZnVuY3Rpb24oKSB7XG5cdFx0YWN0aW9uID0gbnVsbDtcblx0XHRvYmouc3RhdHVzID0gXCJwYXVzZWRcIjtcblx0XHRyZXR1cm4gb2JqO1xuICAgIH07XG5cdG9iai5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG5cdFx0YWN0aW9uID0gbnVsbDtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7XG5cdFx0dGltZXIgPSBudWxsO1xuXHRcdGZvcih2YXIgbyBpbiBvYmopIHtcblx0XHRcdG9ialtvXSA9IG51bGw7XG5cdFx0XHRkZWxldGUgb2JqW29dO1xuXHRcdH1cblx0XHRvYmouc3RhdHVzID0gXCJkZXN0cm95ZWRcIjtcblx0fTtcbiAgICBvYmouc3RlcCA9IGZ1bmN0aW9uKCkge1xuXHRcdG5vd1RpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgbXMgPSBNYXRoLm1heCgwLCBvYmouaW50ZXJ2YWwgLSAobm93VGltZSAtIHN0YXJ0VGltZSkpO1xuICAgICAgICBpZihtcyA9PT0gMCkge1xuXHRcdFx0bXMgPSBvYmouaW50ZXJ2YWw7XG5cdFx0XHRzdGFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblx0XHRcdGlmKGNhbGxiYWNrKSBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcblx0b2JqLnNsb3cgPSBmdW5jdGlvbigpIHtcblx0XHRvYmouaW50ZXJ2YWwgPSAxMDAwO1xuXHRcdHJldHVybiBvYmo7XG5cdH07XG5cdG9iai5mYXN0ID0gZnVuY3Rpb24oKSB7XG5cdFx0b2JqLmludGVydmFsID0gb3JpZ2luYWxfbXM7XG5cdFx0cmV0dXJuIG9iajtcblx0fTtcbiAgICB0aW1lciA9IHNldEludGVydmFsKG9iai5jaGVjaywgb2JqLmNoZWNrZXIpO1xuICAgIHJldHVybiBvYmo7XG59XG4iLCIvKipcbiAqIEhUTUwgaW1wbGVtZW50YXRpb24gb2YgbmRqc29uLXBsYXllclxuICogaHR0cHM6Ly9naXRodWIuY29tL2xlcGUvbmRqc29uLXBsYXllclxuICogQGF1dGhvciBBLkxlcGVcbiAqIEBzaW5jZSAwNC8yMDIwXG4gKlxuICogRXhhbXBsZSBzcGVjaWZ5aW5nIG11bHRpcGxlIHNpemVzOlxuICogPHZpZGVvLW5kIHNyYz1cIi92aWRlby9kZW1vLm5kanNvblwiIGNvbnRyb2xzIGxvb3AgYXV0b3BsYXk+XG4gKiAgICAgIDxzb3VyY2Ugc3JjPVwiL3ZpZGVvL2RlbW8tUVZHQS5uZGpzb25cIiB3aWR0aD1cIjMyMFwiPlxuICogICAgICA8c291cmNlIHNyYz1cIi92aWRlby9kZW1vLVZHQS5uZGpzb25cIiB3aWR0aD1cIjY0MFwiPlxuICogICAgICA8c291cmNlIHNyYz1cIi92aWRlby9kZW1vLVNWR0EubmRqc29uXCIgd2lkdGg9XCI4MDBcIj5cbiAqICAgICAgPHNvdXJjZSBzcmM9XCIvdmlkZW8vZGVtby1IRC5uZGpzb25cIiB3aWR0aD1cIjEyODBcIiBoZWlnaHQ9XCI3MjBcIj5cbiAqICAgICAgPHNvdXJjZSBzcmM9XCIvdmlkZW8vZGVtby1GdWxsSEQubmRqc29uXCIgd2lkdGg9XCIxOTIwXCIgaGVpZ2h0PVwiMTA4MFwiPlxuICogICAgICA8c291cmNlIHNyYz1cIi92aWRlby9kZW1vLTRLLm5kanNvblwiIHdpZHRoPVwiMzg0MFwiIGhlaWdodD1cIjIxNjBcIj5cbiAqIDwvdmlkZW8tbmQ+XG4gKlxuICogRXhhbXBsZSBzcGVjaWZ5aW5nIHRyYWNrczpcbiAqICAodHJ5aW5nIHRvIGJlIGFzIGNsb3NlIHRvOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0VsZW1lbnQvdHJhY2spXG4gKiBOT1RFOiBWVFQgZm9ybWF0IGlzIG5vdCBzdXBwb3J0ZWQgYXMgaXQgaXMgYmFzZWQgaW4gdGltZWQgdGV4dCwgd2hpbGVcbiAqIHdlIG5lZWQgdG8gYmUgc3VyZSB0aGV5IGFyZSBzeW5jIHdpdGggaW1hZ2VzIHVzaW5nIGZyYW1lcyBpbnN0ZWFkIG9mIHRpbWUuXG4gKlxuICogPHZpZGVvLW5kIHNyYz1cIi92aWRlby9kZW1vLm5kanNvblwiIGNvbnRyb2xzIGxvb3AgYXV0b3BsYXk+XG4gKiAgICA8dHJhY2sgc3JjPVwiL2luZm8vZGF0YS50eHRcIiBraW5kPVwiZGVzY3JpcHRpb25zXCIgbGFiZWw9XCJEYXRhXCI+XG4gKiA8L3ZpZGVvLW5kPlxuICpcbiAqIFRyYWNrIHR5cGVzOlxuICogY2FwdGlvbnMgICAgIDogRGlzcGxheWVkIG9uIHRoZSBjZW50ZXJcbiAqIGNoYXB0ZXJzICAgICA6IEl0IHdpbGwgYmUgZGlzcGxheWVkIGluIHRoZSB0b3AgKGFsc28gdXNlZnVsIGZvciBuYXZpZ2F0aW9uKVxuICogZGVzY3JpcHRpb25zIDogRGlzcGxheWVkIG9uIHRvcCBsZWZ0IGNvcm5lclxuICogbWV0YWRhdGEgICAgIDogRGlzcGxheWVkIG9uIHRvcCByaWdodCBjb3JuZXJcbiAqIHN1YnRpdGxlcyAgICA6IERpc3BsYXllZCBvbiB0aGUgYm90dG9tXG4gKlxuICogVGhlIGZvcm1hdCBvZiB0aGUgVFhUIGZpbGUgaXMgXCJmcmFtZS1vci1yYW5nZSMgc3BhY2Utb3ItdGFiIHRleHRcIiwgZm9yIGV4YW1wbGU6XG4gKiAyMC0zMCAgICBPYmplY3RzPGJyPmJ5IGNvbG9yOlxuICogMzUgICBCbHVlOiAyLCBSZWQ6IDFcbiAqIDM2ICAgQmx1ZTogMywgUmVkOiAxXG4gKiAzNyAgIEJsdWU6IDIsIFJlZDogMlxuICpcbiAqIEFib3V0IGNoYXB0ZXJzOlxuICogQWRkaXRpb25hbGx5IHRvIGJlaW5nIGRpc3BsYXllZCBvbiB0aGUgdG9wIGFzIGEgdGl0bGUsIGlmIHVzZWQsIGl0IHdpbGwgZGlzcGxheSBuZXh0IGFuZCBwcmV2IGJ1dHRvbnMuXG4gKiBGb3IgZXhhbXBsZTpcbiAqIGA8dHJhY2sgc3JjPVwiL2NoYXB0ZXJzL2ZpbGUudHh0XCIga2luZD1cImNoYXB0ZXJzXCI+YFxuICpcbiAqIGZpbGUudHh0OlxuICogMC0xMCBDaGFwdGVyIDE6PGJyPlRoZSBiZWdpbm5pbmdcbiAqIDM1Mi0zNjAgQ2hhcHRlciAyOjxicj5UaGUgbW9tZW50XG4gKiA2ODktNzEwIExhc3QgQ2hhcHRlcjo8YnI+VGhlIGVuZFxuICpcbiAqIFdoZW5ldmVyIHlvdSBjbGljayBvbiAncHJldicgb3IgJ25leHQnIGl0IHdpbGwgdXNlIHRoZSBiZWdpbm5pbmcgb2YgZWFjaCBjaGFwdGVyIHRvIGp1bXAgaW50byBzY2VuZXMuXG4gKiBUaGUgcmFuZ2UgaXMgdXNlZCB0byBkaXNwbGF5IGl0LiBJZiB5b3UgZG9uJ3Qgc2V0IGEgcmFuZ2UgKGp1c3QgYSBmcmFtZSBudW1iZXIpLCBpdCB3aWxsIGJlIGRpc3BsYXllZCBmb3IgM3MuXG4gKi9cbmNsYXNzIFZpZGVvTkQgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIC8vIGNyZWF0ZSBzaGFkb3cgZG9tIHJvb3RcbiAgICAgICAgdGhpcy5fcm9vdCA9IHRoaXM7IC8vdGhpcy5hdHRhY2hTaGFkb3coe21vZGU6ICdvcGVuJ30pO1xuICAgICAgICAvL3RoaXMuX3Jvb3QuaW5uZXJIVE1MID0gYGA7XG4gICAgICAgIGNvbnN0IHJvb3QgPSB0aGlzO1xuXG4gICAgICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgICAgICAgLy8gQXR0cmlidXRlcyBzaW1pbGFyIHRvIDx2aWRlbz4gdGFnOlxuICAgICAgICAgICAgYXV0b3BsYXkgOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbnRyb2xzIDogZmFsc2Us44CALy90cnVlOiBtb3N0IGJhc2ljIFVJLCAnY29tbW9uJywgJ2Z1bGwnLCBvciBsaXN0LCBmb3IgZXhhbXBsZTogJ3BsYXkgcHJvZ3Jlc3MgbGFwc2UgZnJhbWVzJ1xuICAgICAgICAgICAgbG9vcCAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgIGxpdmUgICAgIDogZmFsc2UsXG4gICAgICAgICAgICB3aWR0aCAgICA6ICdhdXRvJyxcbiAgICAgICAgICAgIGhlaWdodCAgIDogJ2F1dG8nLFxuICAgICAgICAgICAgcG9zdGVyICAgOiAnJyxcbiAgICAgICAgICAgIHByZWxvYWQgIDogJ2F1dG8nLCAvL09wdGlvbnMgYXJlOiAnbWV0YWRhdGEnLCAnbm9uZScsXG4gICAgICAgICAgICBzcmMgICAgICA6ICcnLCAgICAgLy9VUkwgIWltcG9ydGFudFxuICAgICAgICAgICAgLy8gQWRkaXRpb25hbCBhdHRyaWJ1dGVzOlxuICAgICAgICAgICAgY2MgICAgICAgICAgOiAnYXV0bycsIC8vRW5hYmxlIENDIGJ1dHRvblxuICAgICAgICAgICAgY2FwdGlvbiAgICAgOiAnJywgLy9TZXQgc29tZSBjYXB0aW9uIG92ZXIgdGhlIHZpZGVvXG4gICAgICAgICAgICBmdWxsc2NyZWVuICA6IGZhbHNlLCAvL1VzZSAnYXV0bycgdG8gb25seSBkaXNwbGF5IGJ1dHRvbi4gdHJ1ZSA9IHN0YXJ0IGFzIGZ1bGxzY3JlZW5cbiAgICAgICAgICAgIGZwcyAgICAgICAgIDogJycsIC8vc3BlY2lmeSB2aWRlbyBmcHMgKGlmIGl0cyBub3QgaW4gdGhlIG1ldGFkYXRhKVxuICAgICAgICAgICAgc3BlZWQgICAgICAgOiBmYWxzZSwgLy9EaXNwbGF5IHNwZWVkIG1lbnVcbiAgICAgICAgICAgIGF1dG9zaXplICAgIDogJ2F1dG8nLCAvL0F1dG9tYXRpY2FsbHkgY2hvb3NlIGJlc3Qgc2l6ZSBmcm9tIHNpemVzXG4gICAgICAgICAgICBzaXplcyAgICAgICA6IHt9IHx8IFtdLCAvL1NwZWNpZnkgYXZhaWxhYmxlIHNpemVzLiBFeGFtcGxlOiB7IEhEIDogMTIwMCB9IG9yIFs4MDAsIDEyMDAsIDE4MDBdXG4gICAgICAgICAgICB0aHVtYnMgICAgICA6ICdhdXRvJywgLy9TaG93IHRodW1ibmFpbHMgd2hlbiBwbGFjaW5nIG1vdXNlIG92ZXIgcHJvZ3Jlc3NcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHt9O1xuICAgICAgICBmb3IobGV0IGQgaW4gZGVmYXVsdE9wdGlvbnMpIHtcbiAgICAgICAgICAgIG9wdGlvbnNbZF0gPSB0aGlzLmdldEF0dHJpYnV0ZShkKSB8fCB0aGlzLmhhc0F0dHJpYnV0ZShkKSB8fCBkZWZhdWx0T3B0aW9uc1tkXTtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLm9uc3RhcnQgPSBmdW5jdGlvbiAocGxheWVyKSB7XG4gICAgICAgICAgICBpZihyb290Lm9uc3RhcnQpIHtcbiAgICAgICAgICAgICAgICByb290Lm9uc3RhcnQocGxheWVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLm9ubG9hZCA9IGZ1bmN0aW9uIChwbGF5ZXIpIHtcbiAgICAgICAgICAgIGlmKHJvb3Qub25sb2FkKSB7XG4gICAgICAgICAgICAgICAgcm9vdC5vbmxvYWQocGxheWVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLm9ucmVuZGVyID0gZnVuY3Rpb24oZnJhbWUpIHtcbiAgICAgICAgICAgIGlmKHJvb3Qub25yZW5kZXIpIHtcbiAgICAgICAgICAgICAgICByb290Lm9ucmVuZGVyKGZyYW1lLCBuZGpQbGF5ZXIud3JhcHBlciwgbmRqUGxheWVyLCBuZGpQbGF5ZXIucGxheWVyLmNhbnZhcywgbmRqUGxheWVyLnBsYXllci5jdHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICB0aGlzLmNsYXNzTmFtZSA9IFwibmRqcFwiO1xuICAgICAgICBjb25zdCBuZGpQbGF5ZXIgPSBuZXcgTkRKUGxheWVyKG9wdGlvbnMuc3JjLCB0aGlzLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBzZXRDYXB0aW9uKGNhcHRpb24pIHtcbiAgICAgICAgdGhpcy5fcm9vdC5xdWVyeVNlbGVjdG9yKFwiY2FwdGlvblwiKS5pbm5lclRleHQgPSBjYXB0aW9uO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xuICAgICAgICByZXR1cm4gWyAnd2lkdGgnLCAnaGVpZ2h0JywgJ2NhcHRpb24nIF07XG4gICAgfVxuXG4gICAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xuICAgICAgICBpZiAobmFtZSA9PT0gJ2NhcHRpb24nKSB7XG4gICAgICAgICAgICB0aGlzLnNldENhcHRpb24obmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24oKSB7XG4gICAgd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgndmlkZW8tbmQnLCBWaWRlb05EKTtcbn0pO1xuIl19

//# sourceMappingURL=ndjson-player.headless.min.js.map
